{"version":3,"sources":["webpack:///C:/Users/86184/Desktop/毕业设计/Xchat/pages/groupHome/groupHome.vue?7b3b","webpack:///C:/Users/86184/Desktop/毕业设计/Xchat/pages/groupHome/groupHome.vue?27e3","uni-app:///pages/groupHome/groupHome.vue","webpack:///C:/Users/86184/Desktop/毕业设计/Xchat/pages/groupHome/groupHome.vue?c61f","webpack:///C:/Users/86184/Desktop/毕业设计/Xchat/pages/groupHome/groupHome.vue?2558","uni-app:///main.js","webpack:///C:/Users/86184/Desktop/毕业设计/Xchat/pages/groupHome/groupHome.vue?e8f0","webpack:///C:/Users/86184/Desktop/毕业设计/Xchat/pages/groupHome/groupHome.vue?292a"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sKAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA4nB,CAAgB,ipBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmEhpB,8F;;;;;AAKA;AACA;AACA,8BADA;AAEA,gBAFA;AAGA,cAHA;AAIA,wBAJA,EADA;;AAOA;AACA;AACA,cAFA,sBAEA,IAFA,EAEA;AACA;AACA;AACA,iBADA;AAEA,cAFA;AAGA,cAHA,CAGA,CAHA,EAGA,CAHA;AAIA;AACA;AACA,aADA;AAEA,cAFA;AAGA,cAHA,CAGA,CAHA,EAGA,CAHA;AAIA;AACA,KAdA,EAPA;;AAuBA,QAvBA,kBAuBA,CAvBA,EAuBA;AACA;AACA;AACA;AACA;AACA,GA5BA;AA6BA;AACA,cA9BA,0BA8BA;AACA;AACA;AACA,GAjCA;AAkCA,MAlCA,kBAkCA;AACA;AACA,aADA;AAEA,aAFA;AAGA,eAHA;AAIA,eAJA;AAKA,iBALA;AAMA,mBANA,EAMA;AACA,YAPA;AAQA,sBARA;AASA,sBATA;AAUA,sBAVA;AAWA,iBAXA,EAWA;AACA,eAZA,EAYA;AACA,iBAbA,EAaA;AACA,cAdA,EAcA;AACA,cAfA,EAeA;AACA,gBAhBA;;AAkBA,GArDA;AAsDA;AACA,QADA,kBACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,gBAFA,GAEA,eAFA;AAGA,iBAHA;AAIA,kBAJA,GAIA,iBALA,GADA;;AAQA,wBARA;AASA,KAZA;;AAcA,UAdA,oBAcA;AACA;AACA;AACA,qBADA;AAEA,qBAFA;AAGA,yBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA3BA;;AA6BA,aA7BA,uBA6BA;AACA;AACA;AACA,qBADA;AAEA,yBAFA;;AAIA;AACA,WADA,aACA;AACA;AACA;AACA,WAJA;AAKA,OALA;AAMA,KAzCA;;AA2CA;AACA,gBA5CA,0BA4CA;AACA;AACA,KA9CA;;AAgDA;AACA,gBAjDA,0BAiDA;AACA;AACA;AACA,YADA,CACA,QADA;AAEA,wBAFA,CAEA;AACA;AACA;AACA,OALA;AAMA,UANA;AAOA,KA1DA;;AA4DA;AACA,gBA7DA,0BA6DA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnEA;;AAqEA;AACA,aAtEA,uBAsEA;AACA;AACA;AACA;AACA,qBADA;AAEA,yBAFA;AAGA,gBAHA;;AAKA;AACA,WADA,cACA;AACA;AACA;AACA;AACA;AACA,mCALA;AAMA,0BANA,cAMA;AACA;AACA;AACA;AACA,eAVA;AAWA;AACA,WAbA;AAcA;AACA;AACA,OAhBA;AAiBA,KA/FA;;AAiGA;AACA,oBAlGA,4BAkGA,IAlGA,EAkGA;AACA,wBADA;AAEA,UAFA,gDAEA,IAFA;AAGA;AACA;AACA,+BADA,EACA;AACA,2BAFA,EAEA;AACA,4BAHA,EAGA;AACA,gCAJA,EAIA;AACA,qBALA,CAKA;AALA;AAOA;AACA;AACA;AACA,WAFA,EAZA,EAEA;AAaA,SAfA;AAgBA,KAlHA;;AAoHA;AACA,UArHA,kBAqHA,KArHA,EAqHA,IArHA,EAqHA,IArHA,EAqHA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA,CACA;AACA;AACA;AACA,KA9HA;;AAgIA;AACA,iBAjIA,yBAiIA,MAjIA,EAiIA,QAjIA,EAiIA;AACA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,uBADA;AAEA,wBAFA;AAGA,wBAHA;;AAKA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,uBADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,2BAJA;;AAMA;AACA;AACA,SAFA;AAGA;AACA;AACA,gCApCA,CAoCA;AACA,KAtKA;;AAwKA;AACA,UAzKA,oBAyKA;AACA;AACA;AACA,kBADA,EACA;AACA,8CAFA,EAEA;AACA,+BAHA,EAGA;AACA;AACA;AACA;AACA,WAPA;;AASA;AACA,KArLA;;AAuLA,WAvLA,mBAuLA,CAvLA,EAuLA;AACA;AACA;;AAEA;AACA,6CADA;AAEA,mCAFA;AAGA,yBAHA;AAIA,oBAJA;AAKA;AACA,sBADA,EACA;AACA,+CAFA,EAEA;AACA,2BAHA,EALA;;AAUA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,sCAFA;AAGA,uBAHA;;AAKA;AACA,SApBA;AAqBA,YArBA,gBAqBA,CArBA,EAqBA;AACA;AACA,SAvBA;;AAyBA,KApNA;;AAsNA,QAtNA,gBAsNA,CAtNA,EAsNA;AACA;AACA,KAxNA;;AA0NA,UA1NA,oBA0NA;AACA;AACA;AACA,KA7NA;;AA+NA,gBA/NA,wBA+NA,CA/NA,EA+NA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,uBAFA;AAGA,sBAHA;AAIA,wBAJA;AAKA,2BALA;;AAOA;AACA,OAVA,MAUA;AACA;AACA;AACA,uBADA;AAEA,uBAFA;AAGA,uBAHA;AAIA,wBAJA;AAKA,2BALA;;AAOA;AACA;AACA,KAtPA;;AAwPA;AACA,gBAzPA,wBAyPA,GAzPA,EAyPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,qBAFA;AAGA,yBAHA;;AAKA;AACA,KAtQA;;AAwQA;AACA,cAzQA,sBAyQA,IAzQA,EAyQA;AACA;AACA;AACA,iDADA;;AAGA,KA9QA;;AAgRA;AACA,QAjRA,kBAiRA;AACA;AACA;AACA,qBADA;AAEA,qBAFA;AAGA,yBAHA;;AAKA;AACA,2BADA;AAEA;AACA;AACA;AACA;AACA,qCADA;;AAGA,aAJA;AAKA;AACA,SAVA;;AAYA,KApSA,EAtDA,E;;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAAkpC,CAAgB,mnCAAG,EAAC,C;;;;;;;;;;;ACAtqC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,wG;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AAC0K;AAC1K,gBAAgB,mLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/groupHome/groupHome.js","sourcesContent":["var components\ntry {\n  components = {\n    popup: function() {\n      return import(\n        /* webpackChunkName: \"components/popup/popup\" */ \"@/components/popup/popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"timeChange\")(_vm.group.time)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupHome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupHome.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"status_bar\" :class=\"{ status_bar_bg: statusBar }\"></view>\n\t\t<top-bar :class=\"{ status_bar_bg: statusBar }\" class=\"top-bar\">\n\t\t\t<image src=\"../../static/images/common/back.png\" mode=\"\" class=\"back\" slot=\"left\" @click=\"back\"></image>\n\t\t</top-bar>\n\t\t<image :src=\"cropFilePath\" mode=\"aspectFill\" class=\"bg\" />\n\t\t<view class=\"main\">\n\t\t\t<view class=\"title\">\n\t\t\t\t<view class=\"group-name\">{{ group.name }}</view>\n\t\t\t\t<view class=\"time\">{{ group.time | timeChange }}</view>\n\t\t\t\t<view class=\"notice\">{{ group.notice }}</view>\n\t\t\t</view>\n\t\t\t<view class=\"member\">\n\t\t\t\t<view class=\"member-title\">群成员</view>\n\t\t\t\t<view class=\"manage\" @tap=\"memberManage\">成员管理</view>\n\t\t\t\t<image src=\"../../static/images/common/more.png\" mode=\"aspectFit\" class=\"manage-img\" />\n\t\t\t\t<view class=\"member-wrapper\">\n\t\t\t\t\t<view class=\"member-list\" v-for=\"(item, key) in members\" :key=\"key\">\n\t\t\t\t\t\t<view class=\"img-wrapper\">\n\t\t\t\t\t\t\t<image src=\"../../static/images/groupHome/delete.png\" class=\"delete\" v-show=\"manage\" @tap=\"deleteMember(item.id)\"/>\n\t\t\t\t\t\t\t<image :src=\"item.imgurl\" class=\"member-img\" @tap=\"toUserHome(item)\"/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"member-name\">{{ item.name }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"invitation\" @tap=\"addMember\">\n\t\t\t\t\t\t<view class=\"invitation-img\"><image src=\"../../static/images/groupHome/add.png\" /></view>\n\t\t\t\t\t\t<view class=\"invitation-name\">邀请</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"column\">\n\t\t\t\t<view class=\"row\" @tap=\"modify('群名称', 'groupName', group.name)\">\n\t\t\t\t\t<view class=\"name\">群名称</view>\n\t\t\t\t\t<view class=\"content\">{{ group.name }}</view>\n\t\t\t\t\t<image src=\"../../static/images/common/more.png\" mode=\"aspectFit\" class=\"more\" v-if=\"this.uid == this.group.userID\"/>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"row\"  @tap=\"upload\">\n\t\t\t\t\t<view class=\"name\">群头像</view>\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<view class=\"group-img\"><image :src=\"cropFilePath\" /></view>\n\t\t\t\t\t\t<image-cropper :src=\"tempFilePath\" @confirm=\"confirm\" @cancel=\"cancel\"></image-cropper>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"row\" @tap=\"modify('群公告', 'notice', group.notice)\">\n\t\t\t\t\t<view class=\"name\">群公告</view>\n\t\t\t\t\t<view class=\"content\">{{ group.notice }}</view>\n\t\t\t\t\t<image src=\"../../static/images/common/more.png\" mode=\"aspectFit\" class=\"more\" v-if=\"this.uid == this.group.userID\"/>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"row\" @tap=\"modify('群内名', 'aliasName', group.aliasName)\">\n\t\t\t\t\t<view class=\"name\">群内名</view>\n\t\t\t\t\t<view class=\"content\">{{ group.aliasName }}</view>\n\t\t\t\t\t<image src=\"../../static/images/common/more.png\" mode=\"aspectFit\" class=\"more\" v-if=\"this.uid == this.group.userID\"/>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"row\">\n\t\t\t\t\t<view class=\"name\">免打扰</view>\n\t\t\t\t\t<view class=\"disturb\"><switch :checked=\"group.shield\" @change=\"switchChange\" color=\"rgba(255,228,49,1)\" /></view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"exit-wrapper\"><view class=\"exit\" @tap=\"exit\">退出群聊</view></view>\n\t\t</view>\n\t\t<popup ref=\"popup\" @confirm=\"modifyConfirm\" :title=\"title\" :oldData=\"oldData\" :kong=\"kong\"/>\n\t\t<add-member :friends=\"friends\" @addMember=\"addMemberConfirm\" ref=\"addMember\" />\n\t</view>\n</template>\n\n<script>\nimport datas from '../../commons/js/datas.js';\nimport ImageCropper from '../../components/ling-imgcropper/ling-imgcropper.vue';\nimport popup from '../../components/popup/popup.vue';\nimport info from '../../components/info/info.vue';\nimport addMember from '../../components/group-add-member/group-add-member.vue';\nexport default {\n\tcomponents: {\n\t\tImageCropper,\n\t\tpopup,\n\t\tinfo,\n\t\taddMember\n\t},\n\tfilters: {\n\t\t//时间过滤器\n\t\ttimeChange(date) {\n\t\t\tconst nDate = new Date(date);\n\t\t\tconst year = nDate\n\t\t\t\t.getFullYear()\n\t\t\t\t.toString()\n\t\t\t\t.padStart(2, 0);\n\t\t\tconst month = (nDate.getMonth() + 1).toString().padStart(2, 0);\n\t\t\tconst day = nDate\n\t\t\t\t.getDate()\n\t\t\t\t.toString()\n\t\t\t\t.padStart(2, 0);\n\t\t\treturn year + '-' + month + '-' + day;\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tthis.gid = e.gid;\n\t\tthis.getStorages();\n\t\tthis.getMsg();\n\t\tthis.getMember();\n\t},\n\t//监听页面滚动\n\tonPageScroll() {\n\t\tthis.getMainStyle();\n\t\tthis.changeTopBar();\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tgid: '',\n\t\t\tuid: '',\n\t\t\ttoken: '',\n\t\t\tgroup: {},\n\t\t\tmembers: [],\n\t\t\tmanage: false, //成员管理\n\t\t\ttop: 0,\n\t\t\tstatusBar: false,\n\t\t\tcropFilePath: '',\n\t\t\ttempFilePath: '',\n\t\t\tfriends: [], //邀请好友的数组\n\t\t\ttitle: '', //修改弹窗的标题\n\t\t\toldData: '', //修改弹窗原始内容\n\t\t\tdata: '', //修改弹窗修改内容\n\t\t\ttype: '' ,//修改弹窗类型\n\t\t\tkong:true\n\t\t};\n\t},\n\tmethods: {\n\t\tback() {\n\t\t\tlet routes = getCurrentPages();\n\t\t\troutes.length == 1 ?\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../chatRoom/chatRoom?id='\n\t\t\t\t + this.gid \n\t\t\t\t + '&name=' + this.group.name \n\t\t\t\t + '&type=1'\n\t\t\t\t + '&imgurl=' + this.group.imgurl\n\t\t\t}) :\n\t\t\tuni.navigateBack();\n\t\t},\n\n\t\tgetMsg() {\n\t\t\tconst url = '/grouphome/msg';\n\t\t\tconst data = {\n\t\t\t\tgid: this.gid,\n\t\t\t\tuid: this.uid,\n\t\t\t\ttoken: this.token\n\t\t\t};\n\t\t\tthis.request(url, data).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tres.imgurl = this.serverUrl + res.imgurl;\n\t\t\t\tthis.cropFilePath = res.imgurl;\n\t\t\t\tthis.group = res;\n\t\t\t});\n\t\t},\n\n\t\tgetMember() {\n\t\t\tconst url = '/grouphome/member';\n\t\t\tconst data = {\n\t\t\t\tgid: this.gid,\n\t\t\t\ttoken: this.token\n\t\t\t};\n\t\t\tthis.request(url, data).then(res => {\n\t\t\t\tfor (let item of res) {\n\t\t\t\t\titem.imgurl = this.serverUrl + item.imgurl;\n\t\t\t\t\tthis.members.push(item);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//成员管理\n\t\tmemberManage() {\n\t\t\tif(this.uid == this.group.userID) this.manage = !this.manage;\n\t\t},\n\n\t\t//获取主页面的高度\n\t\tgetMainStyle() {\n\t\t\tconst query = uni.createSelectorQuery().in(this);\n\t\t\tquery\n\t\t\t\t.select('.title')\n\t\t\t\t.boundingClientRect(data => {\n\t\t\t\t\tthis.top = data.top;\n\t\t\t\t\t// console.log(this.top);\n\t\t\t\t})\n\t\t\t\t.exec();\n\t\t},\n\n\t\t//顶部的白色遮罩\n\t\tchangeTopBar() {\n\t\t\tif (this.top < 80) {\n\t\t\t\tthis.statusBar = true;\n\t\t\t} else {\n\t\t\t\tthis.statusBar = false;\n\t\t\t}\n\t\t},\n\n\t\t//邀请好友\n\t\taddMember() {\n\t\t\tthis.friends = [];\n\t\t\tconst url = '/index/getmsg';\n\t\t\tconst data = {\n\t\t\t\tuid: this.uid,\n\t\t\t\ttoken: this.token,\n\t\t\t\tstate: 0\n\t\t\t};\n\t\t\tthis.request(url, data).then(res => {\n\t\t\t\tfor (let item of res) {\n\t\t\t\t\tlet friend = {};\n\t\t\t\t\tfriend.imgurl = this.serverUrl + item.imgurl;\n\t\t\t\t\tfriend.name = item.name;\n\t\t\t\t\tfriend.id = item.id;\n\t\t\t\t\tfriend.checked = false;\n\t\t\t\t\tfor (let items of this.members) {\n\t\t\t\t\t\tif (item.id == items.id) {\n\t\t\t\t\t\t\tfriend.checked = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.friends.push(friend);\n\t\t\t\t}\n\t\t\t\tconsole.log(this.friends);\n\t\t\t\tthis.$refs.addMember.open();\n\t\t\t});\n\t\t},\n\n\t\t//添加好友发送网络请求\n\t\taddMemberConfirm(data) {\n\t\t\tconsole.log(data);\n\t\t\tfor (let item of data) {\n\t\t\t\tthis.members.push(item)\n\t\t\t\tlet fdata = {\n\t\t\t\t\tgroupID: this.gid, //群id\n\t\t\t\t\tuserID: item.id, //用户id\n\t\t\t\t\ttime: new Date(), //加入时间\n\t\t\t\t\tlastTime: new Date(), //最后通讯时间\n\t\t\t\t\tshield: 0 //是否屏蔽群消息（0不屏蔽，1屏蔽）\n\t\t\t\t};\n\t\t\t\tconst url = '/grouphome/addmember';\n\t\t\t\tthis.request(url, fdata).then(res => {\n\t\t\t\t\tthis.socket.emit('groupRefresh', item.id);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//修改页面的弹出\n\t\tmodify(title, type, data) {\n\t\t\tthis.title = title;\n\t\t\tthis.type = type;\n\t\t\tthis.data = data;\n\t\t\tthis.oldData = data;\n\t\t\tif(this.uid == this.group.userID || this.type == 'aliasName'){\n\t\t\t\tthis.$refs.popup.open(); //弹出修改页面\n\t\t\t}\n\t\t\tthis.type == 'aliasName' ? this.kong = false : this.kong = true\n\t\t},\n\n\t\t//修改页面的确认\n\t\tmodifyConfirm(upData, password) {\n\t\t\tif (this.type == 'groupName') {\n\t\t\t\tconst url = '/grouphome/updata';\n\t\t\t\tconst data = {\n\t\t\t\t\tgid: this.gid,\n\t\t\t\t\tupdata: upData,\n\t\t\t\t\ttype: 'name'\n\t\t\t\t};\n\t\t\t\tthis.request(url, data).then(_ => {\n\t\t\t\t\tthis.group.name = upData;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.type == 'notice') {\n\t\t\t\tconst url = '/grouphome/updata';\n\t\t\t\tconst data = {\n\t\t\t\t\tgid: this.gid,\n\t\t\t\t\tupdata: upData,\n\t\t\t\t\ttype: 'notice'\n\t\t\t\t};\n\t\t\t\tthis.request(url, data).then(_ => {\n\t\t\t\t\tthis.group.notice = upData;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.type == 'aliasName') {\n\t\t\t\tconst url = '/grouphome/updata';\n\t\t\t\tconst data = {\n\t\t\t\t\tgid: this.gid,\n\t\t\t\t\tuid: this.uid,\n\t\t\t\t\tupdata: upData,\n\t\t\t\t\ttype: 'aliasName'\n\t\t\t\t};\n\t\t\t\tthis.request(url, data).then(_ => {\n\t\t\t\t\tthis.group.aliasName = upData;\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.log('-----');\n\t\t\tthis.$refs.popup.cancel(); //关闭修改页面\n\t\t},\n\n\t\t// 上传群头像\n\t\tupload() {\n\t\t\tif(this.uid == this.group.userID){\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 1, //默认9\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album'], //从相册选择\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tthis.tempFilePath = res.tempFilePaths.shift();\n\t\t\t\t\t\tthis.statusBar = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\tconfirm(e) {\n\t\t\tthis.tempFilePath = '';\n\t\t\tthis.cropFilePath = e.detail.tempFilePath;\n\n\t\t\tuni.uploadFile({\n\t\t\t\turl: this.serverUrl + '/files/upload',\n\t\t\t\tfilePath: this.cropFilePath,\n\t\t\t\tfileType: 'image',\n\t\t\t\tname: 'file',\n\t\t\t\tformData: {\n\t\t\t\t\turl: 'group', //路径\n\t\t\t\t\tname: this.uid + new Date().getTime(), //文件名\n\t\t\t\t\ttoken: this.token\n\t\t\t\t},\n\t\t\t\tsuccess: uploadFileRes => {\n\t\t\t\t\tthis.statusBar = false;\n\t\t\t\t\tthis.cropFilePath = this.serverUrl + uploadFileRes.data;\n\t\t\t\t\tconst url = '/grouphome/updata';\n\t\t\t\t\tconst data = {\n\t\t\t\t\t\tgid: this.gid,\n\t\t\t\t\t\tupdata: uploadFileRes.data,\n\t\t\t\t\t\ttype: 'img'\n\t\t\t\t\t};\n\t\t\t\t\tthis.request(url, data);\n\t\t\t\t},\n\t\t\t\tfail(e) {\n\t\t\t\t\tconsole.log('this is errormes ' + e.message);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tfail(e) {\n\t\t\tconsole.log('this is errormes ' + e.message);\n\t\t},\n\n\t\tcancel() {\n\t\t\tthis.tempFilePath = '';\n\t\t\tthis.statusBar = false;\n\t\t},\n\n\t\tswitchChange(e) {\n\t\t\tconsole.log(e.target.value);\n\t\t\tif (e.target.value) {\n\t\t\t\tconst url = '/grouphome/updata';\n\t\t\t\tconst data = {\n\t\t\t\t\tgid: this.gid,\n\t\t\t\t\tuid: this.uid,\n\t\t\t\t\tupdata: true,\n\t\t\t\t\ttype: 'shield',\n\t\t\t\t\ttoken: this.token\n\t\t\t\t};\n\t\t\t\tthis.request(url, data);\n\t\t\t} else {\n\t\t\t\tconst url = '/grouphome/updata';\n\t\t\t\tconst data = {\n\t\t\t\t\tgid: this.gid,\n\t\t\t\t\tuid: this.uid,\n\t\t\t\t\tupdata: false,\n\t\t\t\t\ttype: 'shield',\n\t\t\t\t\ttoken: this.token\n\t\t\t\t};\n\t\t\t\tthis.request(url, data);\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 删除群成员\n\t\tdeleteMember(uid){\n\t\t\tfor (let i in this.members) {\n\t\t\t\tif (this.members[i].id == uid){\n\t\t\t\t\tthis.members.splice(i,1)\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst url = '/grouphome/delete'\n\t\t\tconst data = {\n\t\t\t\tuid,\n\t\t\t\tgid: this.gid,\n\t\t\t\ttoken: this.token\n\t\t\t}\n\t\t\tthis.request(url, data)\n\t\t},\n\t\t\n\t\t// 跳转好友首页\n\t\ttoUserHome(user){\n\t\t\tconsole.log(user);\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../userHome/userHome?id='+user.id\n\t\t\t})\n\t\t},\n\n\t\t//退出群聊\n\t\texit() {\n\t\t\tconst url = '/grouphome/exit';\n\t\t\tconst data = {\n\t\t\t\tgid: this.gid,\n\t\t\t\tuid: this.uid,\n\t\t\t\ttoken: this.token\n\t\t\t};\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '确定退出群聊吗？',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\tthis.request(url, data).then(res => {\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n.status_bar {\n\ttransition: background-color 0.5s;\n\theight: var(--status-bar-height);\n\tposition: fixed;\n\ttop: 0;\n\twidth: 100%;\n}\n.status_bar_bg {\n\tbackground-color: #ffffff;\n\ttransition: background-color 0.5s;\n}\n.top-bar {\n\tmargin-top: var(--status-bar-height);\n\ttransition: background-color 0.5s;\n}\n.back {\n\tpadding: 20rpx 0;\n\twidth: 48rpx;\n\theight: 48rpx;\n}\n.bg {\n\twidth: 100%;\n\theight: 750rpx;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tz-index: -1;\n\tbackground-color: #ffffff;\n}\n.main {\n\tpadding-top: 360rpx;\n\t.title {\n\t\tbackground-color: #ffffff;\n\t\twidth: 100%;\n\t\tborder-radius: 40rpx 40rpx 0 0;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\talign-items: center;\n\t\tpadding: $uni-spacing-col-base $uni-spacing-row-base 40rpx;\n\t\tborder-bottom: 1px solid #eee;\n\t\t.group-name {\n\t\t\tfont-size: 48rpx;\n\t\t\tfont-weight: 600;\n\t\t\tline-height: 66rpx;\n\t\t}\n\t\t.time {\n\t\t\tfont-size: $uni-font-size-base;\n\t\t\tcolor: $uni-text-color-grey;\n\t\t\tmargin-left: 320rpx;\n\t\t\tline-height: 66rpx;\n\t\t}\n\t\t.notice {\n\t\t\tmargin-top: 20rpx;\n\t\t\tline-height: 40rpx;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t.member {\n\t\tpadding: $uni-spacing-col-base $uni-spacing-row-base 40rpx;\n\t\tbackground-color: #ffffff;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\talign-items: center;\n\t\tborder-bottom: 1px solid #eee;\n\t\t.member-title {\n\t\t\tfont-size: 36rpx;\n\t\t\tfont-weight: 600;\n\t\t\tline-height: 50rpx;\n\t\t}\n\t\t.manage {\n\t\t\tfont-size: $uni-font-size-base;\n\t\t\tcolor: $uni-text-color-grey;\n\t\t\tmargin-left: 430rpx;\n\t\t\tline-height: 40rpx;\n\t\t}\n\t\t.manage-img {\n\t\t\twidth: 25rpx;\n\t\t\theight: 40rpx;\n\t\t\tpadding-left: 10rpx;\n\t\t}\n\t\t.member-wrapper {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\tjustify-content: flex-start;\n\t\t\tflex-wrap: wrap;\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 10rpx;\n\t\t\t.member-list {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tmargin: 17rpx;\n\t\t\t\ttext-align: center;\n\t\t\t\t.img-wrapper {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\twidth: 104rpx;\n\t\t\t\t\theight: 104rpx;\n\t\t\t\t\t.member-img {\n\t\t\t\t\t\twidth: 104rpx;\n\t\t\t\t\t\theight: 104rpx;\n\t\t\t\t\t\tborder-radius: $uni-border-radius-base;\n\t\t\t\t\t}\n\t\t\t\t\t.delete {\n\t\t\t\t\t\twidth: 40rpx;\n\t\t\t\t\t\theight: 40rpx;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tz-index: 10;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\ttop: -10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.member-name {\n\t\t\t\t\tfont-size: $uni-font-size-base;\n\t\t\t\t\tmargin-top: 8rpx;\n\t\t\t\t\tline-height: 40rpx;\n\t\t\t\t\theight: 40rpx;\n\t\t\t\t\twidth: 104rpx;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.invitation {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmargin: 17rpx;\n\t\t\ttext-align: center;\n\t\t\t.invitation-img {\n\t\t\t\twidth: 104rpx;\n\t\t\t\theight: 104rpx;\n\t\t\t\tborder-radius: $uni-border-radius-base;\n\t\t\t\tbackground-color: $uni-color-primary;\n\t\t\t\timage {\n\t\t\t\t\twidth: 40rpx;\n\t\t\t\t\theight: 40rpx;\n\t\t\t\t\tmargin: 32rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.invitation-name {\n\t\t\t\tfont-size: $uni-font-size-base;\n\t\t\t\tmargin-top: 8rpx;\n\t\t\t\tline-height: 40rpx;\n\t\t\t\twidth: 104rpx;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.column{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t\t.row {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\theight: 112rpx;\n\t\t\t&:active{\n\t\t\t\tbackground-color: $uni-bg-color-hover;\n\t\t\t}\n\t\t}\n\t\t.name {\n\t\t\tflex: none;\n\t\t\tpadding: 0 $uni-spacing-row-base;\n\t\t\tfont-size: $uni-font-size-lg;\n\t\t\tcolor: $uni-text-color;\n\t\t\tline-height: 112rpx;\n\t\t}\n\t\t.content {\n\t\t\tflex: auto;\n\t\t\tfont-size: $uni-font-size-lg;\n\t\t\tcolor: $uni-text-color-grey;\n\t\t\tline-height: 112rpx;\n\t\t\twidth: 526rpx;\n\t\t\tmin-height: 112rpx;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 1;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\toverflow: hidden;\n\t\t}\n\t\t.more {\n\t\t\twidth: 25rpx;\n\t\t\theight: 40rpx;\n\t\t\tpadding-right: 32rpx;\n\t\t}\n\t\t.disturb{\n\t\t\tpadding-left: 480rpx;\n\t\t}\n\t}\n\t.exit-wrapper {\n\t\twidth: 100;\n\t\theight: 112rpx;\n\t\ttext-align: center;\n\t\t.exit {\n\t\t\twidth: 200rpx;\n\t\t\tmargin: 40rpx auto 0;\n\t\t\tline-height: 44rpx;\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: $uni-color-warning;\n\t\t}\n\t}\n}\n.group-img {\n\theight: 80rpx;\n\tmargin: 16rpx 0;\n\timage {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: $uni-border-radius-base;\n\t}\n}\n</style>\n","import mod from \"-!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupHome.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupHome.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1615995599371\n      var cssReload = require(\"D:/App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/groupHome/groupHome.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./groupHome.vue?vue&type=template&id=3d6b21c4&\"\nvar renderjs\nimport script from \"./groupHome.vue?vue&type=script&lang=js&\"\nexport * from \"./groupHome.vue?vue&type=script&lang=js&\"\nimport style0 from \"./groupHome.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/groupHome/groupHome.vue\"\nexport default component.exports","export * from \"-!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\App\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupHome.vue?vue&type=template&id=3d6b21c4&\""],"sourceRoot":""}