(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0373":function(t,s,e){"use strict";e.r(s);var i=e("9c77"),a=e("4778");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},"0a51":function(t,s){t.exports="/static/images/chatRoom/collection.png"},"0b75":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("26e1"));function a(t){return t&&t.__esModule?t:{default:t}}var n={data:function(){return{user:"",mail:"",password:"",userExist:!1,userCorrect:!1,mailExist:!1,mailIncorrect:!1,mailCorrect:!1,type:"password",look:!1,submit:!1}},components:{TopBar:i.default},computed:{signup:function(){this.userCorrect&&this.mailCorrect&&!this.mailExist&&this.password.length>1?this.submit=!0:this.submit=!1}},methods:{toSign:function(){uni.navigateBack({delta:1})},matchUser:function(){var t=this;this.user.length>0?uni.request({url:this.serverUrl+"/signup/judge",data:{type:"name",data:this.user},method:"POST",success:function(s){200==s.data.status?(s.data.result>0?(t.userExist=!0,t.userCorrect=!1):(t.userExist=!1,t.userCorrect=!0),t.signup):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}}):(this.userExist=!1,this.userCorrect=!1)},matchMail:function(){var t=this,s=new RegExp("^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$",""),e=s.test(this.mail);this.mail.length>0?e?(this.mailIncorrect=!1,uni.request({url:this.serverUrl+"/signup/judge",data:{type:"mail",data:this.mail},method:"POST",success:function(s){200==s.data.status?(s.data.result>0?(t.mailExist=!0,t.mailCorrect=!1):(t.mailExist=!1,t.mailCorrect=!0),t.signup):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})):(this.mailIncorrect=!0,this.mailCorrect=!1):(this.mailCorrect=!1,this.mailIncorrect=!1)},pwLook:function(){0==this.look?(this.look=!0,this.type="test"):(this.look=!1,this.type="password")},writePassword:function(t){this.password=t.target.value,this.signup},signUp:function(){var t=this;this.userCorrect&&this.mailCorrect&&!this.mailExist&&this.password.length>1&&uni.request({url:this.serverUrl+"/signup/add",data:{name:this.user,mail:this.mail,psw:this.password},method:"POST",success:function(s){200==s.data.status?uni.redirectTo({url:"../login/login?user="+t.user}):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})}}};s.default=n},"0de9":function(t,s,e){"use strict";function i(t){var s=Object.prototype.toString.call(t);return s.substring(8,s.length-1)}function a(){return"string"===typeof __channelId__&&__channelId__}function n(t,s){switch(i(s)){case"Function":return"function() { [native code] }";default:return s}}function r(t){for(var s=arguments.length,e=new Array(s>1?s-1:0),i=1;i<s;i++)e[i-1]=arguments[i];console[t].apply(console,e)}function o(){for(var t=arguments.length,s=new Array(t),e=0;e<t;e++)s[e]=arguments[e];var r=s.shift();if(a())return s.push(s.pop().replace("at ","uni-app:///")),console[r].apply(console,s);var o=s.map((function(t){var s=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===s||"[object array]"===s)try{t="---BEGIN:JSON---"+JSON.stringify(t,n)+"---END:JSON---"}catch(a){t=s}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var e=i(t).toUpperCase();t="NUMBER"===e||"BOOLEAN"===e?"---BEGIN:"+e+"---"+t+"---END:"+e+"---":String(t)}return t})),c="";if(o.length>1){var u=o.pop();c=o.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=o[0];console[r](c)}e.r(s),e.d(s,"log",(function(){return r})),e.d(s,"default",(function(){return o}))},"0f1a":function(t,s,e){"use strict";e.r(s);var i=e("7640"),a=e("de7e");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},"111c":function(t,s,e){"use strict";e.r(s);var i=e("a2f9"),a=e("6847");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},"13a1":function(t,s){t.exports="/static/images/userhome/more.png"},1404:function(t,s,e){"use strict";e.r(s);var i=e("ab93"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},1795:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","emoji"),style:t._$s(0,"s",{height:t.height+"px"}),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.emoji}),(function(s,i,a,n){return e("view",{key:t._$s(1,"f",{forIndex:a,key:i}),staticClass:t._$s("1-"+n,"sc","emoji-line"),attrs:{_i:"1-"+n}},t._l(t._$s("2-"+n,"f",{forItems:s}),(function(s,i,a,r){return e("view",{key:t._$s("2-"+n,"f",{forIndex:a,key:i}),staticClass:t._$s("2-"+n+"-"+r,"sc","emoji-line-item"),attrs:{_i:"2-"+n+"-"+r},on:{click:function(e){return t.clickEmoji(s)}}},[t._v(t._$s("2-"+n+"-"+r,"t0-0",t._s(s)))])})),0)})),0)},n=[]},"189e":function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={name:"image-cropper",props:{cropWidth:{type:Number,default:200},cropHeight:{type:Number,default:200},cropFixed:{type:Boolean,default:!1},iszoom:{type:Boolean,default:!1},src:{type:String},showResetBtn:{type:Boolean,default:!0},showRotateBtn:{type:Boolean,default:!0},proportion:{type:Number,default:0}},data:function(){var t=uni.getSystemInfoSync(),s=t.pixelRatio;return{show:!1,scale:1,rotate:0,cropW:0,cropH:0,cropOldW:0,cropOldH:0,sysInfo:t,pixelRatio:s,imageRealWidth:0,imageRealHeight:0,cropOffsertX:0,cropOffsertY:0,startX:0,startY:0,border:5,x:0,y:0,startL:0,oldScale:1,scaling:!1}},watch:{src:function(t){t.length>0&&this.init()},show:function(t){}},computed:{containerTop:function(){var t=0;return t},containerHeight:function(){return this.windowHeight-48},windowWidth:function(){return this.sysInfo.windowWidth},windowHeight:function(){return this.sysInfo.windowHeight},imageRatio:function(){return this.imageRealHeight>0?this.imageRealWidth/this.imageRealHeight:0},imageWidth:function(){return this.imageRatio>=1?this.windowWidth:this.windowWidth*this.imageRatio},imageHeight:function(){return this.imageRatio>=1?this.windowWidth/this.imageRatio:this.windowWidth}},methods:{moveHandle:function(){},rotateHandler:function(){3==this.rotate?this.rotate=0:++this.rotate},init:function(){this.rotate=0,this.scale=1,this.cropW=this.cropWidth,this.cropH=this.cropHeight,uni.showLoading({title:"\u56fe\u7247\u52a0\u8f7d\u4e2d..."}),this.loadImage(this.src).then((function(t){uni.hideLoading()})).catch((function(t){uni.hideLoading(),uni.showModal({title:"\u6807\u9898",content:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"})}))},loadImage:function(t){var s=this;return new Promise((function(e,i){uni.getImageInfo({src:t,success:function(t){s.imageRealWidth=t.width,s.imageRealHeight=t.height,s.cropOffsertX=s.windowWidth/2-s.cropW/2,s.cropOffsertY=s.windowHeight/2-s.cropH/2,s.show=!0,s.$nextTick((function(){s.x=s.windowWidth/2-s.imageWidth/2,s.y=s.containerHeight/2-s.imageHeight/2})),e(t)},fail:function(t){s.show=!1,i(t)}})})).catch((function(t){}))},cancel:function(){this.show=!1,this.$emit("cancel")},confirm:function(s){uni.showLoading({title:"\u88c1\u526a\u4e2d..."}),this.iszoom?(this.pixelRatio=1,t("log","this is fixed"," at components/ling-imgcropper/ling-imgcropper.vue:277")):0!=this.proportion&&(this.proportion=this.pixelRatio);var e=this,i=uni.createCanvasContext("myCanvas",e),a=e.pixelRatio,n=e.src,r=e.imageWidth*e.scale,o=e.imageHeight*e.scale,c=e.rotate,u=e.cropOffsertX-e.x-(e.imageWidth-r)/2,l=e.cropOffsertY-e.y-(e.imageHeight-o)/2;switch(i.setFillStyle("white"),i.fillRect(0,0,r,o),i.save(),i.rotate(90*c*Math.PI/180),c){case 1:u+=(o-r)/2,l-=(o-r)/2,i.drawImage(n,-l,u,r,-o);break;case 2:i.drawImage(n,u,l,-r,-o);break;case 3:u+=(o-r)/2,l-=(o-r)/2,i.drawImage(n,l,-u,-r,o);break;default:i.drawImage(n,-u,-l,r,o);break}i.restore(),i.draw(!1,(function(){uni.canvasToTempFilePath({canvasId:"myCanvas",destWidth:e.cropW*a,destHeight:e.cropH*a,success:function(i){uni.hideLoading(),s.detail.tempFilePath=i.tempFilePath,t("log"," at components/ling-imgcropper/ling-imgcropper.vue:356"),e.show=!1,e.$emit("confirm",s)},fail:function(t){uni.hideLoading(),uni.showModal({title:"\u63d0\u793a",content:"\u88c1\u526a\u5931\u8d25"})}},e)}))},imgTouchStart:function(t){if(t.touches.length>=2){this.oldScale=this.scale,this.scaling=!0;var s=t.touches[0].pageX-t.touches[1].pageX,e=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(Math.pow(s,2)+Math.pow(e,2));this.startL=Math.max(s,e,i)}else 1==t.touches.length&&(this.scaling=!0,this.startX=t.touches[0].pageX-this.x,this.startY=t.touches[0].pageY-this.y)},imgMoveing:function(t){if(this.scaling&&t.touches.length>=2){var s=this.oldScale,e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,a=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),n=Math.max(e,i,a),r=n-this.startL,o=1;o=o/this.imageWidth>o/this.imageHeight?o/this.imageHeight:o/this.imageWidth,o=o>.1?.1:o;var c=o*r;r>0?s+=Math.abs(c):r<0&&s>Math.abs(c)&&(s-=Math.abs(c)),this.scale=s}else if(this.scaling&&1==t.touches.length){var u=t.touches[0].pageX-this.startX,l=t.touches[0].pageY-this.startY;this.x=u,this.y=l}},imgMoveEnd:function(){this.scaling&&(this.scaling=!1)},touchStart:function(t){this.scaling||(this.startX=t.touches[0].pageX-this.cropOffsertX,this.startY=t.touches[0].pageY-this.cropOffsertY,this.cropOldW=this.cropW,this.cropOldH=this.cropH)},cropMoveing:function(t){if(!this.scaling){var s=this._cropX(t.touches[0].pageX-this.startX),e=this._cropY(t.touches[0].pageY-this.startY);this.cropOffsertX=s,this.cropOffsertY=e}},dragMove:function(t,s){if(this.cropFixed)return!1;var e=t.touches[0].pageX-this.startX,i=t.touches[0].pageY-this.startY;switch(s){case"left-top":this._cropMoveLeft(e),this._cropMoveTop(i);break;case"middle-top":this._cropMoveTop(i);break;case"right-top":this._cropMoveTop(i),this._cropMoveRight(e);break;case"middle-right":this._cropMoveRight(e);break;case"right-bottom":this._cropMoveRight(e),this._cropMoveBottom(i);break;case"middle-bottom":this._cropMoveBottom(i);break;case"left-bottom":this._cropMoveBottom(i),this._cropMoveLeft(e);break;case"middle-left":this._cropMoveLeft(e);break;default:break}},_cropMoveTop:function(t){var s=this._cropY(t);this.cropH+=this.cropOffsertY-s,this.cropOffsertY=s},_cropMoveRight:function(t){if(this.cropOldW+t>=this.windowWidth-this.border)return!1;this.cropW=this.cropOldW+(t-this.cropOffsertX)},_cropMoveBottom:function(t){if(this.cropOldH+t>=this.windowHeight-this.containerTop-this.border)return!1;this.cropH=this.cropOldH+(t-this.cropOffsertY)},_cropMoveLeft:function(t){var s=this._cropY(t);this.cropW+=this.cropOffsertX-s,this.cropOffsertX=s},_cropX:function(t){return t<=this.border?this.border:t+this.cropW>=this.windowWidth-this.border?this.windowWidth-this.cropW-this.border:t},_cropY:function(t){return t<=this.border?this.border:t+this.cropH>=this.windowHeight-this.containerTop-this.border?this.windowHeight-this.cropH-this.containerTop-this.border:t}}};s.default=e}).call(this,e("0de9")["default"])},1937:function(t,s){t.exports="/static/images/chatRoom/emoji.png"},1953:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("26e1"));function a(t){return t&&t.__esModule?t:{default:t}}var n={components:{TopBar:i.default},data:function(){return{user:"",password:"",match:!1}},onLoad:function(t){t.user?(this.user=t.user,uni.showToast({title:"\u6ce8\u518c\u6210\u529f\uff0c\u8bf7\u767b\u5f55",icon:"none",duration:2e3})):t.name&&(this.user=t.name,uni.showToast({title:"\u767b\u9646\u8fc7\u671f\uff0c\u91cd\u65b0\u767b\u9646",icon:"none",duration:2e3}))},methods:{toSingUp:function(){uni.navigateTo({url:"../signUp/signUp"})},login:function(){var s=this;uni.request({url:this.serverUrl+"/login/match",data:{user:this.user,psw:this.password},method:"POST",success:function(e){if(t("log",e," at pages/login/login.vue:67"),200==e.data.status){var i=e.data.result;try{uni.setStorageSync("user",{id:i.id,name:i.name,imgurl:i.imgurl,token:i.token})}catch(a){t("log","\u6570\u636e\u7f13\u5b58\u9519\u8bef"," at pages/login/login.vue:75")}uni.redirectTo({url:"../index/index"})}else 400==e.data.status?s.match=!0:500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})}}};s.default=n}).call(this,e("0de9")["default"])},"1b3c":function(t,s){t.exports="/static/images/chatRoom/files.png"},2381:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=n(e("26e1")),a=n(e("8e6d"));function n(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{news:[],uid:"",imgurl:"",token:"",myname:"",friends:[],requestData:0,requestTime:""}},components:{TopBar:i.default},onLoad:function(){this.getStorages(),this.getFriends(),this.friendRequest()},onPullDownRefresh:function(){uni.redirectTo({url:"../index/index"}),setTimeout((function(){uni.stopPullDownRefresh()}),500)},methods:{getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.imgurl=this.serverUrl+t.imgurl,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(s){}},getFriends:function(){var s=this;uni.request({url:this.serverUrl+"/index/getfriend",data:{uid:this.uid,token:this.token,state:0},method:"POST",success:function(e){if(t("log",e," at pages/index/index.vue:105"),200==e.data.status){var i=e.data.result;for(var a in i)s.getMsg(i,a),s.getUnRead(i,a),i[a].imgurl=s.serverUrl+i[a].imgurl,i[a].alias&&(i[a].name=i[a].alias);s.friends=i}else 300==e.data.status?uni.redirectTo({url:"../login/login?name="+s.myname}):500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},getMsg:function(t,s){var e=this;uni.request({url:this.serverUrl+"/index/getlastmsg",data:{uid:this.uid,fid:t[s].id,token:this.token},method:"POST",success:function(i){if(200==i.data.status){var a=i.data.result;0==a.types?a.message=a.message:1==a.types?a.message="[\u56fe\u7247]":2==a.types?a.message="[\u97f3\u9891]":3==a.types&&(a.message="[\u4f4d\u7f6e]"),t[s].message=a.message}else 300==i.data.status?uni.redirectTo({url:"../login/login?name="+e.myname}):500==i.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},getUnRead:function(t,s){var e=this;uni.request({url:this.serverUrl+"/index/unreadmsg",data:{uid:this.uid,fid:t[s].id,token:this.token},method:"POST",success:function(i){if(200==i.data.status){var a=i.data.result,n=t[s];n.tip=a,t.splice(s,1,n)}else 300==i.data.status?uni.redirectTo({url:"../login/login?name="+e.myname}):500==i.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},friendRequest:function(){var t=this;uni.request({url:this.serverUrl+"/index/getfriend",data:{uid:this.uid,token:this.token,state:1},method:"POST",success:function(s){if(200==s.data.status){var e=s.data.result;e.length>0&&(t.requestData=e.length,t.requestTime=e[0].lastTime)}else 300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},paixu:function(t,s,e){if(0==e){for(var i=1;i<t.length;i++)for(var a=i;a>0;a--)if(t[a][s]>t[a-1][s]){var n=t[a];t[a]=t[a-1],t[a-1]=n}return t}},goRequest:function(){uni.navigateTo({url:"../firendRequest/firendRequest"})},search:function(){uni.navigateTo({url:"../search/search"})},changeDate:function(t){return a.default.changeDate(t)},toChatRoom:function(t){uni.navigateTo({url:"../chatRoom/chatRoom?id="+t.id+"&name="+t.name+"&type="+t.type})},test:function(){uni.navigateTo({url:"../chatRoom/chatRoom"})}}};s.default=r}).call(this,e("0de9")["default"])},"26e1":function(t,s,e){"use strict";e.r(s);var i=e("6bbd"),a=e("adc7");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"227b6ec7",null,!1,i["a"],r);s["default"]=c.exports},"28ea":function(t,s,e){"use strict";e.r(s);var i=e("eb5c"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},"2bc4":function(t,s,e){"use strict";e.r(s);var i=e("1795"),a=e("fcc1");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},"2de8":function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(0,"v-show",t.show),expression:"_$s(0,'v-show',show)"}],ref:"cropper",staticClass:t._$s(0,"sc","vue-cropper"),style:t._$s(0,"s",{top:t.containerTop+"px"}),attrs:{_i:0},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}},[e("view",{staticClass:t._$s(1,"sc","cropper-box"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","cropper-box-canvas"),style:t._$s(2,"s",{width:t.imageWidth+"px",height:t.imageHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}),attrs:{_i:2},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.imgTouchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.imgMoveing(s)},touchend:function(s){return s.stopPropagation(),s.preventDefault(),t.imgMoveEnd(s)}}},[e("image",{ref:"cropperImg",staticClass:t._$s(3,"sc","uni-image"),attrs:{src:t._$s(3,"a-src",t.src),_i:3}})])]),e("view",{staticClass:t._$s(4,"sc","cropper-drag-box cropper-modal cropper-move pointer-events"),attrs:{_i:4}}),e("view",{staticClass:t._$s(5,"sc","cropper-crop-box"),class:t._$s(5,"c",{"pointer-events":t.cropFixed}),style:t._$s(5,"s",{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}),attrs:{_i:5}},[e("view",{staticClass:t._$s(6,"sc","cropper-view-box"),attrs:{_i:6}},[e("image",{style:t._$s(7,"s",{width:t.imageWidth+"px",height:t.imageHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}),attrs:{src:t._$s(7,"a-src",t.src),_i:7}})]),t._$s(8,"i",!t.cropFixed)?e("view",{staticClass:t._$s(8,"sc","cropper-face cropper-move"),attrs:{_i:8},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.cropMoveing(s)}}}):t._e(),e("view",{staticClass:t._$s(9,"sc","crop-line line-w"),attrs:{_i:9}}),e("view",{staticClass:t._$s(10,"sc","crop-line line-a"),attrs:{_i:10}}),e("view",{staticClass:t._$s(11,"sc","crop-line line-s"),attrs:{_i:11}}),e("view",{staticClass:t._$s(12,"sc","crop-line line-d"),attrs:{_i:12}}),t._$s(13,"i",!t.cropFixed)?[e("view",{staticClass:t._$s(14,"sc","crop-point point-lt"),attrs:{_i:14},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"left-top")}}}),e("view",{staticClass:t._$s(15,"sc","crop-point point-mt"),attrs:{_i:15},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"middle-top")}}}),e("view",{staticClass:t._$s(16,"sc","crop-point point-rt"),attrs:{_i:16},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"right-top")}}}),e("view",{staticClass:t._$s(17,"sc","crop-point point-ml"),attrs:{_i:17},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"middle-left")}}}),e("view",{staticClass:t._$s(18,"sc","crop-point point-mr"),attrs:{_i:18},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"middle-right")}}}),e("view",{staticClass:t._$s(19,"sc","crop-point point-lb"),attrs:{_i:19},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"left-bottom")}}}),e("view",{staticClass:t._$s(20,"sc","crop-point point-mb"),attrs:{_i:20},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"middle-bottom")}}}),e("view",{staticClass:t._$s(21,"sc","crop-point point-rb"),attrs:{_i:21},on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.touchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.dragMove(s,"right-bottom")}}})]:t._e()],2),e("canvas",{staticClass:t._$s(22,"sc","cropper-canvas"),style:t._$s(22,"s",{width:t.cropW+"px",height:t.cropH+"px"}),attrs:{id:"myCanvas",_i:22}}),e("view",{staticClass:t._$s(23,"sc","btn-group"),attrs:{_i:23}},[e("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(24,"v-show",t.showResetBtn),expression:"_$s(24,'v-show',showResetBtn)"}],staticClass:t._$s(24,"sc","btn-item reset-btn"),attrs:{_i:24},on:{click:t.init}}),e("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(25,"v-show",t.showRotateBtn),expression:"_$s(25,'v-show',showRotateBtn)"}],staticClass:t._$s(25,"sc","btn-item rotate-btn"),attrs:{_i:25},on:{click:t.rotateHandler}})]),e("view",{staticClass:t._$s(26,"sc","uni-info__ft"),attrs:{_i:26}},[e("view",{staticClass:t._$s(27,"sc","uni-modal__btn uni-modal__btn_default"),attrs:{_i:27},on:{click:t.cancel}}),e("view",{staticClass:t._$s(28,"sc","uni-modal__btn uni-modal__btn_primary"),attrs:{_i:28},on:{click:t.confirm}})])])},n=[]},3008:function(t,s,e){"use strict";e.r(s);var i=e("e82c"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},"31de":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={props:{height:{type:Number,default:260}},data:function(){return{emoji:[["\ud83d\ude00","\ud83d\ude01","\ud83d\ude02","\ud83e\udd23","\ud83d\ude03","\ud83d\ude05","\ud83d\ude06"],["\ud83d\ude09","\ud83d\ude0a","\ud83d\ude0b","\ud83d\ude0e","\ud83d\ude0d","\ud83d\ude18","\ud83d\ude17"],["\ud83d\ude19","\ud83d\ude1a","\ud83d\ude42","\ud83e\udd17","\ud83e\udd14","\ud83d\ude10","\ud83d\ude11"],["\ud83d\ude36","\ud83d\ude44","\ud83d\ude0f","\ud83d\ude23","\ud83d\ude25","\ud83d\ude2e","\ud83e\udd10"],["\ud83d\ude2f","\ud83d\ude2a","\ud83d\ude2b","\ud83d\ude34","\ud83d\ude0c","\ud83d\ude1b","\ud83d\ude1c"],["\ud83d\ude1d","\ud83e\udd24","\ud83d\ude12","\ud83d\ude13","\ud83d\ude14","\ud83d\ude15","\ud83d\ude43"],["\ud83e\udd11","\ud83d\ude32","\ud83d\ude41","\ud83d\ude16","\ud83d\ude1f","\ud83d\ude24","\ud83d\ude22"],["\ud83d\ude2d","\ud83d\ude27","\ud83d\ude28","\ud83d\ude29","\ud83d\ude2c","\ud83d\ude30","\ud83d\ude33"],["\ud83d\ude31","\ud83d\ude35","\ud83d\ude21","\ud83d\ude20","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15"],["\ud83e\udd22","\ud83e\udd27","\ud83d\ude07","\ud83d\udc7b","\ud83d\udc80","\ud83d\udca9","\ud83d\ude08"],["\ud83d\udc8b","\ud83d\udc44","\ud83c\udf02","\ud83d\udc57","\ud83d\udeab","\ud83d\udc5c","\ud83d\udcbc"],["\ud83d\udc8d","\ud83d\udc60","\ud83d\udcaf","\ud83d\udecc","\ud83d\udca3","\ud83d\udc68\ud83c\udffb","\ud83d\udc69\ud83c\udffb"],["\ud83d\udecd","\ud83c\udf89","\ud83d\udec0","\ud83c\udf81","\ud83d\udc84","\ud83c\udf85\ud83c\udffc","\ud83d\ude45\ud83c\udffb\u200d"],["\ud83d\ude46\ud83c\udffb","\ud83d\ude4b\ud83c\udffb","\ud83d\ude47\ud83c\udffb","\ud83e\udd26\ud83c\udffb","\ud83e\udd37\ud83c\udffb","\ud83d\udc86\ud83c\udffb","\ud83d\udc87\ud83c\udffb"],["\ud83d\udcf7","\ud83d\udcaa","\ud83d\udc48","\ud83d\udc49","\ud83d\udc46","\ud83d\udc47","\ud83e\udd18"],["\u270c","\ud83e\udd19","\ud83d\udc4c","\ud83d\udc4d","\ud83d\udc4e","\ud83d\udc4a","\ud83d\udc4b"],["\u270d","\ud83d\udc4f","\ud83d\ude4f","\ud83d\udc85","\ud83d\udc97","\ud83c\udfc3\ud83c\udffb\u200d","\ud83d\udc94"],["\ud83d\udc6f","\ud83d\udc91","\ud83d\udc6a","\ud83d\ude48","\ud83d\udca5","\ud83d\udca6","\ud83d\udc12"],["\ud83d\udc36","\ud83e\udd8a","\ud83d\udc31","\ud83e\udd81","\ud83d\udc2f","\ud83d\udc34","\ud83e\udd84"],["\ud83d\udc0e","\ud83d\udc2e","\ud83d\udc37","\ud83d\udc0f","\ud83d\udc2b","\ud83d\udc18","\ud83d\udc39"],["\ud83d\udc30","\ud83d\udc28","\ud83d\udc3c","\ud83d\udc3e","\ud83d\udc14","\ud83d\udc25","\ud83d\udc27"],["\ud83d\udc38","\ud83d\udc33","\ud83d\udc32","\ud83d\udc2c","\ud83d\udc20","\ud83d\udc21","\ud83d\udc1f"],["\ud83d\udc19","\ud83d\udc1a","\ud83e\udd80","\ud83e\udd90","\ud83e\udd91","\ud83d\udc0c","\ud83e\udd8b"],["\ud83d\udc1c","\ud83d\udc1e","\ud83d\udc1d","\ud83d\udd78","\ud83d\udd77","\ud83c\udf39","\ud83e\udd40"],["\ud83c\udf3b","\ud83c\udf84","\ud83c\udf34","\ud83c\udf35","\ud83c\udf40","\ud83c\udf1e","\ud83c\udf0f"],["\u26c5","\ud83c\udf27","\ud83c\udf08","\ud83c\udf28","\u26c4","\ud83d\udd25","\ud83d\udca7"],["\u2614","\ud83c\udf83","\ud83c\udf49","\ud83c\udf4c","\ud83c\udf4d","\ud83c\udf4e","\ud83c\udf52"],["\ud83c\udf53","\ud83e\udd5d","\ud83e\udd51","\ud83c\udf46","\ud83c\udf3d","\ud83c\udf57","\ud83c\udf54"],["\ud83c\udf5a","\ud83c\udf66","\ud83c\udf82","\ud83c\udf6d","\u2615","\ud83c\udf77","\ud83c\udf7a"],["\ud83c\udf79","\ud83c\udfc7","\u26f7","\ud83c\udfcc","\ud83d\udea3\ud83c\udffb","\ud83c\udfca","\ud83c\udfc6"],["\u26f9","\ud83d\udeb4","\ud83e\udd3d","\ud83c\udfc5","\ud83c\udfd0","\ud83c\udfc0","\u26bd"],["\u26be","\ud83c\udfc8","\ud83c\udfbe","\ud83c\udfb3","\ud83c\udfd3","\ud83c\udff8","\u26f8"],["\ud83c\udfa3","\ud83c\udfaf","\ud83c\udfae","\ud83c\udfb2","\ud83c\udfa8","\ud83c\udfa7","\ud83c\udfac"],["\ud83c\udfdd","\ud83c\udfe9","\ud83d\ude83","\ud83d\ude8d","\ud83d\ude98","\ud83d\udeb2","\u2708"]]}},methods:{clickEmoji:function(t){this.$emit("emotion",t)}}};s.default=i},"32cc":function(module,exports,__webpack_require__){"use strict";(function(__f__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _TopBar=_interopRequireDefault(__webpack_require__("26e1")),_datas=_interopRequireDefault(__webpack_require__("b8f2")),_debounce=__webpack_require__("c03d");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _createForOfIteratorHelper(t,s){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||s&&t&&"number"===typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){o=!0,n=t},f:function(){try{r||null==e.return||e.return()}finally{if(o)throw n}}}}function _unsupportedIterableToArray(t,s){if(t){if("string"===typeof t)return _arrayLikeToArray(t,s);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,s):void 0}}function _arrayLikeToArray(t,s){(null==s||s>t.length)&&(s=t.length);for(var e=0,i=new Array(s);e<s;e++)i[e]=t[e];return i}var _default={components:{TopBar:_TopBar.default},onLoad:function(){this.getStorages()},onReady:function(){this.getElementStyle()},data:function(){return{uid:"",fid:"",token:"",myname:"",userarr:[],searchValue:"",ailas:"",addHeight:"",animationData:{},isadd:!1,message:""}},methods:{getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(s){__f__("log",s," at pages/search/search.vue:86")}},Value:(0,_debounce.debounce)((function(t){this.userarr=[],this.searchValue.length>0&&this.searchUser(this.searchValue)}),500),searchUser:function searchUser(e){var _this=this;uni.request({url:this.serverUrl+"/search/user",data:{data:e,token:this.token},method:"POST",success:function success(data){var status=data.data.status;200==status?function(){var res=data.data.result,exp=eval("/"+e+"/g"),_iterator=_createForOfIteratorHelper(res),_step;try{var _loop=function(){var t=_step.value;t.imgurl=_this.serverUrl+t.imgurl,_this.isFriend(t),setTimeout((function(){t.name=t.name.replace(exp,"<span style='color:#4AAAFF;'>"+e+"</span>"),t.mail=t.mail.replace(exp,"<span style='color:#4AAAFF;'>"+e+"</span>")}),100),_this.userarr.push(t)};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(err){_iterator.e(err)}finally{_iterator.f()}__f__("log",_this.userarr," at pages/search/search.vue:124")}():500==status?uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u5566\uff01",icon:"none",duration:2e3}):300==status&&uni.redirectTo({url:"../login/login?name="+_this.myname})}})},isFriend:function(t){var s=this;this.uid!==t._id&&(t.tip=0,__f__("log",t," at pages/search/search.vue:147"),uni.request({url:this.serverUrl+"/search/isfriend",data:{uid:this.uid,fid:t._id,token:this.token},method:"POST",success:function(e){var i=e.data.status;200==i?(t.tip=1,e.data.result.alias&&(t.name=e.data.result.alias)):500==i?uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u5566\uff01",icon:"none",duration:2e3}):300==i&&uni.redirectTo({url:"../login/login?name="+s.myname})}}))},getElementStyle:function(){var t=this,s=uni.createSelectorQuery().in(this);s.select(".add-friend").boundingClientRect((function(s){t.addHeight=s.height})).exec()},addFriendPopUp:function(t,s){this.isadd=!this.isadd;var e=uni.createAnimation({duration:500,timingFunction:"ease"});this.isadd?e.bottom(0).step():e.bottom(-this.addHeight).step(),this.animationData=e.export()},addFriendBtn:function(t){this.fid=t,this.message="\u6211\u662f"+this.myname+"\uff0c\u8bf7\u6c42\u6dfb\u52a0\u597d\u53cb~~",this.addFriendPopUp()},addFriendConfirm:function(){var t=this;uni.request({url:this.serverUrl+"/friend/apply",data:{uid:this.uid,fid:this.fid,msg:this.message,token:this.token},method:"POST",success:function(s){200==s.data.status?(t.addFriendPopUp(),uni.showToast({title:"\u597d\u53cb\u8bf7\u6c42\u53d1\u9001\u6210\u529f",icon:"none",duration:2e3})):300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):500==s.data.status&&(t.addFriendPopUp(),uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3}))}})},back:function(){uni.navigateBack({delta:1})}}};exports.default=_default}).call(this,__webpack_require__("0de9")["default"])},"39a8":function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),i("TopBar",{staticClass:t._$s(2,"sc","top-bar"),attrs:{_i:2}},[i("navigator",{staticClass:t._$s(3,"sc","mine"),attrs:{url:t._$s(3,"a-url","../userHome/userHome?id="+t.uid),_i:3},slot:"left"},[i("image",{attrs:{src:t._$s(4,"a-src",t.imgurl),_i:4}})]),i("image",{staticClass:t._$s(5,"sc","search"),attrs:{src:t._$s(5,"a-src",e("5178")),_i:5},on:{click:t.search},slot:"right"}),i("image",{staticClass:t._$s(6,"sc","add"),attrs:{src:t._$s(6,"a-src",e("c69e")),_i:6},on:{click:t.test},slot:"right"})]),i("view",{staticClass:t._$s(7,"sc","main"),attrs:{_i:7}},[t._$s(8,"i",t.requestData>0)?i("view",{staticClass:t._$s(8,"sc","chat"),attrs:{_i:8},on:{click:t.goRequest}},[i("view",{staticClass:t._$s(9,"sc","img"),attrs:{_i:9}},[i("image",{attrs:{src:t._$s(10,"a-src",e("866c")),_i:10}}),i("span",{staticClass:t._$s(11,"sc","tip"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.requestData)))])]),i("view",{staticClass:t._$s(12,"sc","chat-info"),attrs:{_i:12}},[i("nobr",{staticClass:t._$s(13,"sc","name"),attrs:{_i:13}},[t._v("")]),i("nobr",{staticClass:t._$s(14,"sc","message"),attrs:{_i:14}},[t._v("")]),i("view",{staticClass:t._$s(15,"sc","time"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.changeDate(t.requestTime))))])],1)]):t._e(),t._l(t._$s(16,"f",{forItems:t.friends}),(function(s,e,a,n){return i("view",{key:t._$s(16,"f",{forIndex:a,key:e}),staticClass:t._$s("16-"+n,"sc","chat"),attrs:{_i:"16-"+n},on:{click:function(e){return t.toChatRoom(s)}}},[i("view",{staticClass:t._$s("17-"+n,"sc","img"),attrs:{_i:"17-"+n}},[i("image",{attrs:{src:t._$s("18-"+n,"a-src",s.imgurl),_i:"18-"+n}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t._$s("19-"+n,"v-show",s.tip>0),expression:"_$s((\"19-\"+$30),'v-show',item.tip > 0)"}],staticClass:t._$s("19-"+n,"sc","tip"),attrs:{_i:"19-"+n}},[t._v(t._$s("19-"+n,"t0-0",t._s(s.tip)))])]),i("view",{staticClass:t._$s("20-"+n,"sc","chat-info"),attrs:{_i:"20-"+n}},[i("nobr",{staticClass:t._$s("21-"+n,"sc","name"),attrs:{_i:"21-"+n}},[t._v(t._$s("21-"+n,"t0-0",t._s(s.name)))]),i("nobr",{staticClass:t._$s("22-"+n,"sc","message"),attrs:{_i:"22-"+n}},[t._v(t._$s("22-"+n,"t0-0",t._s(s.message)))]),i("view",{staticClass:t._$s("23-"+n,"sc","time"),attrs:{_i:"23-"+n}},[t._v(t._$s("23-"+n,"t0-0",t._s(t.changeDate(s.lastTime))))])],1)])}))],2)],1)},n=[]},"40b1":function(t,s){t.exports="/static/images/chatRoom/delete.png"},4778:function(t,s,e){"use strict";e.r(s);var i=e("b17a"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},"4ada":function(t,s,e){"use strict";e.r(s);var i=e("d8f6"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},"4e04":function(t,s){t.exports="/static/images/chatRoom/loading.png"},5178:function(t,s){t.exports="/static/images/index/search.png"},"51ee":function(t,s,e){"use strict";e.r(s);var i=e("39a8"),a=e("82c2");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},"52fa":function(t,s){t.exports="/static/images/chatRoom/voice.png"},"561d":function(t,s){t.exports="/static/images/chatRoom/record.png"},"5fd2":function(t,s,e){"use strict";e.r(s);var i=e("7d30"),a=e("3008");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},6072:function(t,s,e){"use strict";e.r(s);var i=e("ad07"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},6179:function(t,s){t.exports="/static/images/common/back.png"},6847:function(t,s,e){"use strict";e.r(s);var i=e("0b75"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},"684b":function(t,s){t.exports="/static/images/chatRoom/video.png"},6892:function(t,s,e){"use strict";e.r(s);var i=e("e5e6"),a=e("28ea");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},"6bbd":function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","top-bar"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","top-bar-left"),attrs:{_i:1}},[t._t("left",null,{_i:2})],2),e("view",{staticClass:t._$s(3,"sc","top-bar-center"),attrs:{_i:3}},[t._t("center",null,{_i:4})],2),e("view",{staticClass:t._$s(5,"sc","top-bar-right"),attrs:{_i:5}},[t._t("right",null,{_i:6})],2)])},n=[]},"6d8c":function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={onLaunch:function(){t("log","App Launch"," at App.vue:4")},onShow:function(){t("log","App Show"," at App.vue:7")},onHide:function(){t("log","App Hide"," at App.vue:10")}};s.default=e}).call(this,e("0de9")["default"])},7640:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","login"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),e("TopBar",{attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","signUp"),attrs:{_i:3},on:{click:t.toSingUp},slot:"right"})]),e("view",{staticClass:t._$s(4,"sc","main"),attrs:{_i:4}},[e("view",{staticClass:t._$s(5,"sc","login"),attrs:{_i:5}}),e("view",{staticClass:t._$s(6,"sc","welcome"),attrs:{_i:6}}),e("view",{staticClass:t._$s(7,"sc","user-wrapper"),attrs:{_i:7}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:t._$s(8,"sc","user"),attrs:{_i:8},domProps:{value:t._$s(8,"v-model",t.user)},on:{input:function(s){s.target.composing||(t.user=s.target.value)}}})]),e("view",{staticClass:t._$s(9,"sc","password-wrapper"),attrs:{_i:9}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:t._$s(10,"sc","password"),attrs:{_i:10},domProps:{value:t._$s(10,"v-model",t.password)},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),e("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(11,"v-show",t.match),expression:"_$s(11,'v-show',match)"}],staticClass:t._$s(11,"sc","err"),attrs:{_i:11}}),e("view",{staticClass:t._$s(12,"sc","submit"),attrs:{_i:12},on:{click:t.login}})])],1)},n=[]},7930:function(t,s,e){"use strict";e.r(s);var i=e("32cc"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},"7d30":function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",[e("button",{attrs:{_i:1},on:{click:function(s){return t.upload()}}}),t._l(t._$s(2,"f",{forItems:t.img}),(function(s,i,a,n){return e("image",{key:t._$s(2,"f",{forIndex:a,key:i}),attrs:{src:t._$s("2-"+n,"a-src",s),_i:"2-"+n}})})),e("button",{attrs:{_i:3},on:{click:t.test}})],2)},n=[]},8255:function(t,s){t.exports="/static/images/chatRoom/keyboard.png"},"82c2":function(t,s,e){"use strict";e.r(s);var i=e("2381"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},8591:function(t,s,e){"use strict";e("9ff7");var i=n(e("8bbf")),a=n(e("97c7"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);s&&(i=i.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,i)}return e}function o(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?r(Object(e),!0).forEach((function(s){c(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}function c(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}i.default.config.productionTip=!1,i.default.prototype.serverUrl="http://localhost:3000",a.default.mpType="app";var u=new i.default(o({},a.default));u.$mount()},"866c":function(t,s){t.exports="/static/images/index/apply.png"},"88ac":function(t,s){t.exports="/static/images/chatRoom/location.png"},"8bbf":function(t,s){t.exports=Vue},"8e6d":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={changeDate:function(t){var s=new Date(t),e=new Date,i=s.getHours(),a=s.getMinutes(),n=s.getFullYear(),r=s.getMonth()+1,o=s.getDate(),c=(e.getHours(),e.getMinutes(),e.getFullYear()),u=e.getMonth()+1,l=e.getDate();return o===l&&r===u&&n===c?(i<10&&(i="0"+i),a<10&&(a="0"+a),i+":"+a):o+1===l&&r===u&&n===c?(i<10&&(i="0"+i),a<10&&(a="0"+a),"\u6628\u5929"+i+":"+a):(i<10&&(i="0"+i),a<10&&(a="0"+a),n+"/"+r+"/"+o)},changeTime:function(t){var s=new Date(t),e=(s.getHours(),s.getMinutes(),s.getFullYear()),i=s.getMonth()+1,a=s.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),e+"-"+i+"-"+a},chatDate:function(t){var s=new Date(t),e=new Date,i=s.getHours(),a=s.getMinutes(),n=s.getFullYear(),r=s.getMonth()+1,o=s.getDate(),c=(e.getHours(),e.getMinutes(),e.getFullYear()),u=e.getMonth()+1,l=e.getDate();return o===l&&r===u&&n===c?(i<10&&(i="0"+i),a<10&&(a="0"+a),i+":"+a):o+1===l&&r===u&&n===c?(i<10&&(i="0"+i),a<10&&(a="0"+a),"\u6628\u5929"+i+":"+a):n===c?(i<10&&(i="0"+i),a<10&&(a="0"+a),r+"\u6708"+o+"\u65e5 "+i+":"+a):(i<10&&(i="0"+i),a<10&&(a="0"+a),n+"\u5e74"+r+"\u6708"+o+"\u65e5 "+i+":"+a)},fileName:function(t){var s=new Date(t),e=(s.getHours(),s.getMinutes(),s.getFullYear()),i=s.getMonth()+1,a=s.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),e+i+a}};s.default=i},"8f56":function(t,s){t.exports="/static/images/sign/biyan.png"},"91e6":function(t,s){t.exports="/static/images/chatRoom/add.png"},"928c":function(t,s){t.exports="/static/images/search/search.png"},"97c7":function(t,s,e){"use strict";e.r(s);var i=e("d793");for(var a in i)"default"!==a&&function(t){e.d(s,t,(function(){return i[t]}))}(a);var n,r,o,c,u=e("f0c5"),l=Object(u["a"])(i["default"],n,r,!1,null,null,null,!1,o,c);s["default"]=l.exports},"9c77":function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),i("TopBar",{attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","back"),attrs:{src:t._$s(3,"a-src",e("6179")),_i:3},on:{click:t.back},slot:"left"}),t._$s(4,"i",0==t.relation||1==t.relation)?i("image",{staticClass:t._$s(4,"sc","more"),attrs:{src:t._$s(4,"a-src",e("13a1")),_i:4},on:{click:t.userDetial},slot:"right"}):t._e()]),i("view",{staticClass:t._$s(5,"sc","bg"),attrs:{_i:5}},[i("image",{attrs:{src:t._$s(6,"a-src",t.user.imgurl),_i:6}})]),i("view",{staticClass:t._$s(7,"sc","main"),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","user-header"),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","sex"),style:t._$s(9,"s",{background:t.sexBG}),attrs:{animation:t._$s(9,"a-animation",t.animationData2),_i:9}},[i("image",{attrs:{src:t._$s(10,"a-src",t.seximg),_i:10}})]),i("image",{staticClass:t._$s(11,"sc","user-img"),attrs:{src:t._$s(11,"a-src",t.user.imgurl),animation:t._$s(11,"a-animation",t.animationData1),_i:11}})]),i("view",{staticClass:t._$s(12,"sc","user-message"),attrs:{_i:12}},[i("view",{staticClass:t._$s(13,"sc","name"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.user.name)))]),i("view",{staticClass:t._$s(14,"sc","nick"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.alias)))]),i("view",{staticClass:t._$s(15,"sc","intr"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.user.explain)))])])]),i("view",{staticClass:t._$s(16,"sc","foot"),attrs:{_i:16}},[t._$s(17,"i",2==t.relation)?i("view",{staticClass:t._$s(17,"sc","button"),attrs:{_i:17},on:{click:function(s){return t.addFriendBtn()}}}):t._e(),t._$s(18,"i",1==t.relation)?i("view",{staticClass:t._$s(18,"sc","button"),attrs:{_i:18}}):t._e()]),i("view",{staticClass:t._$s(19,"sc","add"),style:t._$s(19,"s",{height:t.addHeight+"px",bottom:-t.addHeight+"px"}),attrs:{animation:t._$s(19,"a-animation",t.animationData),_i:19}},[i("view",{staticClass:t._$s(20,"sc","name"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.user.name)))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:t._$s(21,"sc","add-message"),attrs:{_i:21},domProps:{value:t._$s(21,"v-model",t.message)},on:{input:function(s){s.target.composing||(t.message=s.target.value)}}})]),i("view",{staticClass:t._$s(22,"sc","add-bt"),attrs:{animation:t._$s(22,"a-animation",t.animationData),_i:22}},[i("view",{staticClass:t._$s(23,"sc","cancel"),attrs:{_i:23},on:{click:function(s){return t.addAnimation()}}}),i("view",{staticClass:t._$s(24,"sc","send"),attrs:{_i:24},on:{click:t.addFriend}})])],1)},n=[]},"9ff7":function(t,s,e){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var s=this.constructor;return this.then((function(e){return s.resolve(t()).then((function(){return e}))}),(function(e){return s.resolve(t()).then((function(){throw e}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/login/login",(function(){return Vue.extend(e("0f1a").default)})),__definePage("pages/index/index",(function(){return Vue.extend(e("51ee").default)})),__definePage("pages/signUp/signUp",(function(){return Vue.extend(e("111c").default)})),__definePage("pages/search/search",(function(){return Vue.extend(e("c218").default)})),__definePage("pages/userHome/userHome",(function(){return Vue.extend(e("0373").default)})),__definePage("pages/userDetails/userDetails",(function(){return Vue.extend(e("efc5").default)})),__definePage("pages/firendRequest/firendRequest",(function(){return Vue.extend(e("6892").default)})),__definePage("pages/test",(function(){return Vue.extend(e("5fd2").default)})),__definePage("pages/chatRoom/chatRoom",(function(){return Vue.extend(e("a74e").default)}))},a2f9:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:t._$s(0,"sc","sign"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),i("TopBar",{attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","back"),attrs:{_i:3},on:{click:t.toSign},slot:"left"},[i("image",{staticClass:t._$s(4,"sc","back-img"),attrs:{src:t._$s(4,"a-src",e("6179")),_i:4}})])]),i("view",{staticClass:t._$s(5,"sc","main"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","login"),attrs:{_i:6}}),i("view",{staticClass:t._$s(7,"sc","wrapper"),attrs:{_i:7}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:t._$s(8,"sc","user"),attrs:{_i:8},domProps:{value:t._$s(8,"v-model",t.user)},on:{input:[function(s){s.target.composing||(t.user=s.target.value)},t.matchUser]}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.userExist),expression:"_$s(9,'v-show',userExist)"}],staticClass:t._$s(9,"sc","user-exist"),attrs:{_i:9}}),i("image",{directives:[{name:"show",rawName:"v-show",value:t._$s(10,"v-show",t.userCorrect),expression:"_$s(10,'v-show',userCorrect)"}],staticClass:t._$s(10,"sc","ok"),attrs:{src:t._$s(10,"a-src",e("ff5e")),_i:10}})]),i("view",{staticClass:t._$s(11,"sc","wrapper"),attrs:{_i:11}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mail,expression:"mail"}],staticClass:t._$s(12,"sc","mail"),attrs:{_i:12},domProps:{value:t._$s(12,"v-model",t.mail)},on:{blur:t.matchMail,input:function(s){s.target.composing||(t.mail=s.target.value)}}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(13,"v-show",t.mailExist),expression:"_$s(13,'v-show',mailExist)"}],staticClass:t._$s(13,"sc","mail-exist"),attrs:{_i:13}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(14,"v-show",t.mailIncorrect),expression:"_$s(14,'v-show',mailIncorrect)"}],staticClass:t._$s(14,"sc","mail-incorrect"),attrs:{_i:14}}),t._$s(15,"i",t.mailCorrect)?i("image",{staticClass:t._$s(15,"sc","ok"),attrs:{src:t._$s(15,"a-src",e("ff5e")),_i:15}}):t._e()]),i("view",{staticClass:t._$s(16,"sc","wrapper"),attrs:{_i:16}},[i("input",{staticClass:t._$s(17,"sc","password"),attrs:{type:t._$s(17,"a-type",t.type),_i:17},on:{input:t.writePassword}}),i("image",{directives:[{name:"show",rawName:"v-show",value:t._$s(18,"v-show",t.look),expression:"_$s(18,'v-show',look)"}],attrs:{src:t._$s(18,"a-src",e("bfe3")),_i:18},on:{click:t.pwLook}}),i("image",{directives:[{name:"show",rawName:"v-show",value:t._$s(19,"v-show",!t.look),expression:"_$s(19,'v-show',!look)"}],attrs:{src:t._$s(19,"a-src",e("8f56")),_i:19},on:{click:t.pwLook}})]),i("view",{class:t._$s(20,"c",[{submit:t.submit},{unSubmit:!t.submit}]),attrs:{_i:20},on:{click:function(s){return t.signUp()}}})])],1)},n=[]},a74e:function(t,s,e){"use strict";e.r(s);var i=e("d4ba"),a=e("4ada");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},a879:function(t,s){t.exports="/static/images/chatRoom/img.png"},ab93:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("2bc4"));function a(t){return t&&t.__esModule?t:{default:t}}function n(t,s){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=r(t))||s&&t&&"number"===typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){c=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(c)throw n}}}}function r(t,s){if(t){if("string"===typeof t)return o(t,s);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,s):void 0}}function o(t,s){(null==s||s>t.length)&&(s=t.length);for(var e=0,i=new Array(s);e<s;e++)i[e]=t[e];return i}var c={components:{emoji:i.default},data:function(){return{isrecord:!1,recording:!1,isemoji:!1,msg:"",isInput:!1,isMore:!1,timer:"",recordLength:0,pageY:""}},methods:{inputs:function(t){var s=this.msg.indexOf("\n");this.msg.length>0?this.isInput=!0:this.isInput=!1,-1!=s&&this.msg.length>1&&this.confirm()},record:function(){var t=this;this.isrecord=!0,this.isemoji=!1,this.isInput=!1,this.isMore=!1,setTimeout((function(){t.getElementStyle()}),200)},touchstart:function(t){var s=this;this.pageY=t.changedTouches[0].clientY,this.recordLength=0,this.recording=!0;var e=1;this.timer=setInterval((function(){s.recordLength=e,e++,22==e&&s.touchend()}),1e3),uni.getRecorderManager().start()},touchend:function(){var t=this;clearInterval(this.timer),uni.getRecorderManager().stop(),uni.getRecorderManager().onStop((function(s){if(t.recordLength>1){var e={record:s.tempFilePath,time:t.recordLength-1};t.recording&&t.sendEmit(e,2),t.recording=!1}else t.recording=!1,uni.showToast({title:"\u8bf4\u8bdd\u65f6\u95f4\u592a\u77ed\u4e86",duration:2e3,icon:"none"})}))},touchmove:function(t){this.pageY-t.changedTouches[0].clientY>100&&(this.recording=!1)},confirm:function(){var t=this;this.msg.length>0&&(this.sendEmit(this.msg,0),this.msg="",setTimeout((function(){t.getElementStyle()}),0)),this.isInput=!1},emoji:function(){var t=this;this.isrecord&&(this.isrecord=!1),this.isMore=!1,this.isemoji=!this.isemoji,setTimeout((function(){t.getElementStyle()}),200)},more:function(){var t=this;this.isemoji=!1,this.isMore=!this.isMore,setTimeout((function(){t.getElementStyle()}),200)},emotion:function(t){this.msg=this.msg+t,this.msg.length>0?this.isInput=!0:this.isInput=!1},emojiBack:function(){this.msg.length>0?this.msg=this.msg.substring(0,this.msg.length-1):this.isInput=!1},sendEmit:function(t,s){var e={message:t,types:s};this.$emit("send",e)},imgSend:function(s){var e=this;uni.chooseImage({count:9,sizeType:["original","compressed"],sourceType:[s],success:function(s){t("log",s," at components/chatSend/chet-send.vue:220");var i,a=s.tempFilePaths,r=n(a);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.sendEmit(o,1)}}catch(c){r.e(c)}finally{r.f()}e.isMore=!1,e.$emit("heights",70)}})},location:function(){var t=this;uni.chooseLocation({success:function(s){var e={name:s.name,address:s.address,latitude:s.latitude,longitude:s.longitude};t.sendEmit(e,3)}})},getElementStyle:function(){var t=this,s=uni.createSelectorQuery().in(this);s.select(".send").boundingClientRect((function(s){t.$emit("heights",s.height)})).exec()}}};s.default=c}).call(this,e("0de9")["default"])},acfd:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),i("TopBar",{staticClass:t._$s(2,"sc","top-bar"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","back"),attrs:{src:t._$s(3,"a-src",e("6179")),_i:3},on:{click:t.back},slot:"left"}),i("view",{staticClass:t._$s(4,"sc","title"),attrs:{_i:4},slot:"center"}),i("view",{staticClass:t._$s(5,"sc","confirm"),attrs:{_i:5},slot:"right"})]),i("view",{staticClass:t._$s(6,"sc","main"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","column"),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","row head"),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","title"),attrs:{_i:9}}),t._$s(10,"i",t.id==t.uid)?i("view",{staticClass:t._$s(10,"sc","user-head"),attrs:{_i:10}},[i("image-cropper",{attrs:{src:t.tempFilePath,_i:11},on:{confirm:t.confirm,cancel:t.cancel}}),i("image",{staticClass:t._$s(12,"sc","user-img"),attrs:{src:t._$s(12,"a-src",t.cropFilePath),_i:12},on:{click:t.upload}})],1):t._e(),t._$s(13,"i",t.id==t.uid)?i("view",{staticClass:t._$s(13,"sc","more"),attrs:{_i:13}},[i("image",{attrs:{src:t._$s(14,"a-src",e("fd64")),_i:14}})]):t._e(),t._$s(15,"i",t.id!=t.uid)?i("image",{staticClass:t._$s(15,"sc","user-img"),attrs:{src:t._$s(15,"a-src",t.cropFilePath),_i:15}}):t._e()]),t._$s(16,"i",t.id==t.uid)?i("view",{staticClass:t._$s(16,"sc","row"),attrs:{_i:16},on:{click:function(s){return t.modify("\u7b7e\u540d","explain",t.user.explain,!1)}}},[i("view",{staticClass:t._$s(17,"sc","title"),attrs:{_i:17}}),i("view",{staticClass:t._$s(18,"sc","cont"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.user.explain)))]),i("view",{staticClass:t._$s(19,"sc","more"),attrs:{_i:19}},[i("image",{attrs:{src:t._$s(20,"a-src",e("fd64")),_i:20}})])]):t._e(),t._$s(21,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(21,"sc","row"),attrs:{_i:21}},[i("view",{staticClass:t._$s(22,"sc","title"),attrs:{_i:22}}),i("view",{staticClass:t._$s(23,"sc","cont"),attrs:{_i:23}},[t._v(t._$s(23,"t0-0",t._s(t.user.explain)))])]):t._e(),i("view",{staticClass:t._$s(24,"sc","row"),attrs:{_i:24}},[i("view",{staticClass:t._$s(25,"sc","title"),attrs:{_i:25}}),i("view",{staticClass:t._$s(26,"sc","cont"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.changeTime(t.user.time))))])])]),i("view",{staticClass:t._$s(27,"sc","column"),attrs:{_i:27}},[t._$s(28,"i",t.id==t.uid)?i("view",{staticClass:t._$s(28,"sc","row"),attrs:{_i:28},on:{click:function(s){return t.modify("\u540d\u5b57","name",t.user.name,!1)}}},[i("view",{staticClass:t._$s(29,"sc","title"),attrs:{_i:29}}),i("view",{staticClass:t._$s(30,"sc","cont"),attrs:{_i:30}},[t._v(t._$s(30,"t0-0",t._s(t.user.name)))]),i("view",{staticClass:t._$s(31,"sc","more"),attrs:{_i:31}},[i("image",{attrs:{src:t._$s(32,"a-src",e("fd64")),_i:32}})])]):t._e(),t._$s(33,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(33,"sc","row"),attrs:{_i:33}},[i("view",{staticClass:t._$s(34,"sc","title"),attrs:{_i:34}}),i("view",{staticClass:t._$s(35,"sc","cont"),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.user.name)))])]):t._e(),t._$s(36,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(36,"sc","row"),attrs:{_i:36},on:{click:function(s){return t.modify("\u5907\u6ce8","alias",t.alias,!1)}}},[i("view",{staticClass:t._$s(37,"sc","title"),attrs:{_i:37}}),i("view",{staticClass:t._$s(38,"sc","cont"),attrs:{_i:38}},[t._v(t._$s(38,"t0-0",t._s(t.alias)))]),i("view",{staticClass:t._$s(39,"sc","more"),attrs:{_i:39}},[i("image",{attrs:{src:t._$s(40,"a-src",e("fd64")),_i:40}})])]):t._e(),i("view",{staticClass:t._$s(41,"sc","row"),attrs:{_i:41}},[i("view",{staticClass:t._$s(42,"sc","title"),attrs:{_i:42}}),i("view",{staticClass:t._$s(43,"sc","cont"),attrs:{_i:43}},[t._$s(44,"i",t.id==t.uid)?i("picker",{attrs:{value:t._$s(44,"a-value",t.index),range:t._$s(44,"a-range",t.array),_i:44},on:{change:t.bindPickerChange}},[i("view",{staticClass:t._$s(45,"sc","uni-input"),attrs:{_i:45}},[t._v(t._$s(45,"t0-0",t._s(t.array[t.index])))])]):t._e(),t._$s(46,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(46,"sc","uni-input"),attrs:{_i:46}},[t._v(t._$s(46,"t0-0",t._s(t.array[t.index])))]):t._e()]),t._$s(47,"i",t.id==t.uid)?i("view",{staticClass:t._$s(47,"sc","more"),attrs:{_i:47}},[i("image",{attrs:{src:t._$s(48,"a-src",e("fd64")),_i:48}})]):t._e()]),i("view",{staticClass:t._$s(49,"sc","row"),attrs:{_i:49}},[i("view",{staticClass:t._$s(50,"sc","title"),attrs:{_i:50}}),i("view",{staticClass:t._$s(51,"sc","cont"),attrs:{_i:51}},[t._$s(52,"i",t.id==t.uid)?i("picker",{attrs:{value:t._$s(52,"a-value",t.date),start:t._$s(52,"a-start",t.startDate),end:t._$s(52,"a-end",t.endDate),_i:52},on:{change:t.bindDateChange}},[i("view",{staticClass:t._$s(53,"sc","uni-input"),attrs:{_i:53}},[t._v(t._$s(53,"t0-0",t._s(t.user.birth)))])]):t._e(),t._$s(54,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(54,"sc","uni-input"),attrs:{_i:54}},[t._v(t._$s(54,"t0-0",t._s(t.user.birth)))]):t._e()]),t._$s(55,"i",t.id==t.uid)?i("view",{staticClass:t._$s(55,"sc","more"),attrs:{_i:55}},[i("image",{attrs:{src:t._$s(56,"a-src",e("fd64")),_i:56}})]):t._e()]),t._$s(57,"i",t.id==t.uid)?i("view",{staticClass:t._$s(57,"sc","row"),attrs:{_i:57},on:{click:function(s){t.modify("\u7535\u8bdd","phone",t.user.phone)}}},[i("view",{staticClass:t._$s(58,"sc","title"),attrs:{_i:58}}),i("view",{staticClass:t._$s(59,"sc","cont"),attrs:{_i:59}},[t._v(t._$s(59,"t0-0",t._s(t.user.phone)))]),i("view",{staticClass:t._$s(60,"sc","more"),attrs:{_i:60}},[i("image",{attrs:{src:t._$s(61,"a-src",e("fd64")),_i:61}})])]):t._e(),t._$s(62,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(62,"sc","row"),attrs:{_i:62}},[i("view",{staticClass:t._$s(63,"sc","title"),attrs:{_i:63}}),i("view",{staticClass:t._$s(64,"sc","cont"),attrs:{_i:64}},[t._v(t._$s(64,"t0-0",t._s(t.user.phone)))])]):t._e(),t._$s(65,"i",t.id==t.uid)?i("view",{staticClass:t._$s(65,"sc","row"),attrs:{_i:65},on:{click:function(s){return t.modify("\u90ae\u7bb1","mail",t.user.mail,!0)}}},[i("view",{staticClass:t._$s(66,"sc","title"),attrs:{_i:66}}),i("view",{staticClass:t._$s(67,"sc","cont"),attrs:{_i:67}},[t._v(t._$s(67,"t0-0",t._s(t.user.mail)))]),t._$s(68,"i",t.id==t.uid)?i("view",{staticClass:t._$s(68,"sc","more"),attrs:{_i:68}},[i("image",{attrs:{src:t._$s(69,"a-src",e("fd64")),_i:69}})]):t._e()]):t._e(),t._$s(70,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(70,"sc","row"),attrs:{_i:70}},[i("view",{staticClass:t._$s(71,"sc","title"),attrs:{_i:71}}),i("view",{staticClass:t._$s(72,"sc","cont"),attrs:{_i:72}},[t._v(t._$s(72,"t0-0",t._s(t.user.mail)))])]):t._e()]),i("view",{staticClass:t._$s(73,"sc","column"),attrs:{_i:73}},[t._$s(74,"i",t.id==t.uid)?i("view",{staticClass:t._$s(74,"sc","row"),attrs:{_i:74},on:{click:function(s){return t.modify("\u5bc6\u7801","psw","",!0)}}},[i("view",{staticClass:t._$s(75,"sc","title"),attrs:{_i:75}}),i("view",{staticClass:t._$s(76,"sc","cont"),attrs:{_i:76}}),t._$s(77,"i",t.id==t.uid)?i("view",{staticClass:t._$s(77,"sc","more"),attrs:{_i:77}},[i("image",{attrs:{src:t._$s(78,"a-src",e("fd64")),_i:78}})]):t._e()]):t._e()]),t._$s(79,"i",t.id==t.uid)?i("view",{staticClass:t._$s(79,"sc","exit"),attrs:{_i:79},on:{click:t.logOut}}):t._e(),t._$s(80,"i",t.id!=t.uid)?i("view",{staticClass:t._$s(80,"sc","exit"),attrs:{_i:80},on:{click:t.deleteFriend}}):t._e()]),i("view",{staticClass:t._$s(81,"sc","modify"),style:t._$s(81,"s",{bottom:-+t.ModifyHeight+"px"}),attrs:{animation:t._$s(81,"a-animation",t.animationData),_i:81}},[i("view",{staticClass:t._$s(82,"sc","status_bar"),attrs:{_i:82}}),i("top-bar",{staticClass:t._$s(83,"sc","top-bar"),attrs:{_i:83}},[i("view",{staticClass:t._$s(84,"sc","cancel"),attrs:{_i:84},on:{click:function(s){return t.modify()}},slot:"left"}),i("view",{staticClass:t._$s(85,"sc","title"),attrs:{_i:85},slot:"center"},[t._v(t._$s(85,"t0-0",t._s(this.title)))]),i("view",{staticClass:t._$s(86,"sc","confirm"),attrs:{_i:86},on:{click:function(s){return t.modifyConfirm()}},slot:"right"})]),i("view",{staticClass:t._$s(87,"sc","main"),attrs:{_i:87}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(88,"v-show",t.needPassword),expression:"_$s(88,'v-show',needPassword)"}],staticClass:t._$s(88,"sc","password"),attrs:{_i:88}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{_i:89},domProps:{value:t._$s(89,"v-model",t.password)},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),i("view",{staticClass:t._$s(90,"sc","contnet-wrapper"),attrs:{_i:90}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data,expression:"data"}],attrs:{_i:91},domProps:{value:t._$s(91,"v-model",t.data)},on:{input:function(s){s.target.composing||(t.data=s.target.value)}}})])])],1)],1)},n=[]},ad07:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=r(e("26e1")),a=r(e("fc47")),n=r(e("8e6d"));function r(t){return t&&t.__esModule?t:{default:t}}var o={components:{TopBar:i.default,ImageCropper:a.default},data:function(){var t=this.getDate({format:!0});return{uid:"",token:"",id:"",myname:"",user:"",alias:"",title:"",type:"",oldData:"",data:"",password:"",needPassword:!1,array:["\u7537","\u5973","\u672a\u77e5"],index:0,tempFilePath:"",cropFilePath:"",date:t,ModifyHeight:"1000",animationData:{},ismodify:!1}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},onLoad:function(t){this.id=t.id,this.getStorages(),this.getUser(),this.getAlias()},onReady:function(){this.getElementStyle()},methods:{back:function(){uni.navigateBack({})},changeTime:function(t){return n.default.changeTime(t)},getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(s){}},getElementStyle:function(){var t=this,s=uni.createSelectorQuery().in(this);s.select(".modify").boundingClientRect((function(s){t.ModifyHeight=s.height})).exec()},getUser:function(){var s=this;uni.request({url:this.serverUrl+"/user/detail",data:{id:this.id,token:this.token},method:"POST",success:function(e){if(t("log",e," at pages/userDetails/userDetails.vue:230"),200==e.data.status){var i=e.data.result;s.cropFilePath=s.serverUrl+i.imgurl,i.explain||(i.explain="\u8fd9\u4e2a\u4eba\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u7559\u4e0b~~"),i.birth||(i.birth="\u672a\u77e5"),i.phone||(i.phone="\u672a\u77e5"),s.sexJudge(i.sex),s.user=i}else 300==e.data.status?uni.redirectTo({url:"../login/login?name="+s.myname}):500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},sexJudge:function(t){this.index="asexual"==t?2:"female"==t?1:0},getAlias:function(){var t=this;this.uid!==this.fid&&uni.request({url:this.serverUrl+"/search/isfriend",data:{uid:this.uid,fid:this.id,token:this.token},method:"POST",success:function(s){200==s.data.status?s.data.result.alias&&(t.alias=s.data.result.alias):300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},updateAlias:function(){var t=this;this.uid!==this.fid&&uni.request({url:this.serverUrl+"/user/alias",data:{uid:this.uid,fid:this.id,token:this.token,name:this.data},method:"POST",success:function(s){200==s.data.status||(300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3}))}})},bindPickerChange:function(s){t("log","picker\u53d1\u9001\u9009\u62e9\u6539\u53d8\uff0c\u643a\u5e26\u503c\u4e3a",s.target.value," at pages/userDetails/userDetails.vue:355");var e=this.index;if(this.index=s.target.value,this.index!=e){var i="asexual";0==this.index?i="male":1==this.index&&(i="female"),this.update(i,"sex")}},bindDateChange:function(t){var s=this.date;this.date=t.target.value,s!=this.date&&(this.update(this.date,"birth"),this.user.birth=this.date)},getDate:function(t){var s=new Date,e=s.getFullYear(),i=s.getMonth()+1,a=s.getDate();return"start"===t?e-=60:"end"===t&&(e+=2),i=i>9?i:"0"+i,a=a>9?a:"0"+a,"".concat(e,"-").concat(i,"-").concat(a)},upload:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(s){t.tempFilePath=s.tempFilePaths.shift()}})},confirm:function(s){var e=this;this.tempFilePath="",this.cropFilePath=s.detail.tempFilePath,uni.uploadFile({url:this.serverUrl+"/files/upload",filePath:this.cropFilePath,name:"file",fileType:"image",formData:{url:"user",name:this.uid,token:this.token},success:function(i){t("log",i," at pages/userDetails/userDetails.vue:425");var a=i.data;try{uni.setStorageSync("user",{id:e.uid,name:e.user.name,imgurl:a,token:e.token})}catch(s){t("log","\u6570\u636e\u7f13\u5b58\u9519\u8bef"," at pages/userDetails/userDetails.vue:431")}e.update(a,"imgurl")},fail:function(s){t("log","this is errormes "+s.message," at pages/userDetails/userDetails.vue:437")}})},cancel:function(){t("log","canceled"," at pages/userDetails/userDetails.vue:443"),this.tempFilePath=""},update:function(s,e){t("log",s,e," at pages/userDetails/userDetails.vue:449"),uni.request({url:this.serverUrl+"/user/update",data:{id:this.uid,data:s,type:e,psw:this.password,token:this.token},method:"POST",success:function(s){t("log",s," at pages/userDetails/userDetails.vue:461"),200==s.data.status||500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},modify:function(t,s,e,i){this.title=t,this.type=s,this.data=e,this.oldData=e,this.needPassword=i,this.ismodify=!this.ismodify;var a=uni.createAnimation({duration:500,timingFunction:"ease"});this.ismodify?a.bottom(0).step():a.bottom(-this.ModifyHeight).step(),this.animationData=a.export()},modifyConfirm:function(){this.data!=this.oldData&&(this.uid==this.id?(this.update(this.data,this.type),"mail"!=this.type&&"psw"!=this.type||(this.update(this.data,this.type),this.logOut())):(this.updateAlias(),this.alias=this.data)),this.user[this.type]=this.data,this.modify()},logOut:function(){var t=this;uni.showModal({title:"\u786e\u5b9a\u9000\u51fa\u767b\u5f55\uff1f",success:function(s){s.confirm&&uni.redirectTo({url:"../login/login?name="+t.myname})}})},deleteFriend:function(){var s=this;uni.showModal({title:"\u786e\u5b9a\u5220\u9664\u597d\u53cb\uff1f",success:function(e){e.confirm&&uni.request({url:s.serverUrl+"/friend/delete",data:{uid:s.uid,fid:s.id,token:s.token},method:"POST",success:function(s){t("log",s," at pages/userDetails/userDetails.vue:549"),200==s.data.status?(uni.redirectTo({url:"../index/index"}),uni.showToast({title:"\u5220\u9664\u597d\u53cb\u6210\u529f",icon:"none",duration:2e3})):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})}})}}};s.default=o}).call(this,e("0de9")["default"])},adc7:function(t,s,e){"use strict";e.r(s);var i=e("f614"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},b17a:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("26e1"));function a(t){return t&&t.__esModule?t:{default:t}}var n={data:function(){return{fid:"",uid:"",token:"",user:{},alias:"",myname:"",sexBG:"",seximg:"",relation:"",addHeight:"10000",animationData:{},animationData1:{},animationData2:{},message:"",isAdd:!1}},components:{TopBar:i.default},onReady:function(){this.getElementStyle()},onLoad:function(t){this.fid=t.id,this.getStorages(),this.getUser(),this.judgeFriend()},methods:{back:function(){uni.navigateBack({delta:1})},userDetial:function(){uni.navigateTo({url:"../userDetails/userDetails?id="+this.fid})},getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.imgurl=this.serverUrl+t.imgurl,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(s){}},getUser:function(){var s=this;uni.request({url:this.serverUrl+"/user/detail",data:{id:this.fid,token:this.token},method:"POST",success:function(e){if(t("log",e," at pages/userHome/userHome.vue:112"),200==e.data.status){var i=e.data.result;i.imgurl=s.serverUrl+i.imgurl,i.explain||(i.explain="\u8fd9\u4e2a\u4eba\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u7559\u4e0b~~"),s.alias&&(s.alias=i.name),s.sexJudge(i.sex),s.user=i}else 300==e.data.status?uni.redirectTo({url:"../login/login?name="+s.myname}):500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},sexJudge:function(t){"asexual"==t?(this.seximg="../../static/images/userhome/asexual.png",this.sexBG="rgba(39,40,50,1)"):"female"==t?(this.seximg="../../static/images/userhome/female.png",this.sexBG="rgba(255,93,91,1)"):(this.seximg="../../static/images/userhome/male.png",this.sexBG="rgba(87,153,255,1)")},judgeFriend:function(){var t=this;this.fid==this.uid?this.relation=0:uni.request({url:this.serverUrl+"/search/isfriend",data:{uid:this.uid,fid:this.fid,token:this.token},method:"POST",success:function(s){200==s.data.status?(t.relation=1,s.data.result.alias,t.alias=s.data.result.alias):300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):400==s.data.status?t.relation=2:500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},addFriendBtn:function(){this.message="\u4f60\u597d\uff0c\u6211\u662f"+this.myname+"\uff0c\u8bf7\u6c42\u6dfb\u52a0\u597d\u53cb~~",this.addAnimation()},addFriend:function(){var t=this;uni.request({url:this.serverUrl+"/friend/apply",data:{uid:this.uid,fid:this.fid,msg:this.message,token:this.token},method:"POST",success:function(s){200==s.data.status?(t.addAnimation(),uni.showToast({title:"\u597d\u53cb\u8bf7\u6c42\u53d1\u9001\u6210\u529f",icon:"none",duration:2e3})):300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):500==s.data.status&&(t.addAnimation(),uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3}))}})},getElementStyle:function(){var t=this,s=uni.createSelectorQuery().in(this);s.select(".bg").boundingClientRect((function(s){t.addHeight=s.height-186})).exec()},addAnimation:function(){this.isAdd=!this.isAdd;var t=uni.createAnimation({duration:500,timingFunction:"ease"}),s=uni.createAnimation({duration:500,timingFunction:"ease"}),e=uni.createAnimation({duration:500,timingFunction:"ease-in"});this.isAdd?(t.bottom(0).step(),s.width(120).height(120).top(20).step(),e.opacity(0).step()):(t.bottom(-this.addHeight).step(),s.width().height().top(0).step(),e.opacity(1).step()),this.animationData=t.export(),this.animationData1=s.export(),this.animationData2=e.export()}}};s.default=n}).call(this,e("0de9")["default"])},b8f2:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={friends:function(){var t=[{id:1,image:"../../static/images/img/one.png",tip:555,name:"GEKYUME",time:new Date,email:"934229118@qq.com",message:"\u6211\u662fXXX"},{id:2,image:"../../static/images/img/mine.png",tip:23,name:"\u85af\u6761",time:new Date,email:"934229118@qq.com",message:"\u6211\u662fXXX\u6211\u662fXXX\u6211\u662fXXX\u6211\u662fXXX\u6211\u662fXXX\u6211\u662fXXX"},{id:3,image:"../../static/images/img/daijiayue.png",tip:9,name:"\u9ea6\u4e50\u9e21",time:new Date,email:"934229118@qq.com",message:"\u65e5\u524d\u53ec\u5f00\u7684\u4e2d\u592e\u7ecf\u6d4e\u5de5\u4f5c\u4f1a\u8bae\u63d0\u51fa\uff0c\u8981\u5de9\u56fa\u62d3\u5c55\u8131\u8d2b\u653b\u575a\u6210\u679c\uff0c\u575a\u51b3\u9632\u6b62\u53d1\u751f\u89c4\u6a21\u6027\u8fd4\u8d2b\u73b0\u8c61\u3002\u8981\u505a\u597d\u540c\u4e61\u6751\u632f\u5174\u7684\u6709\u6548\u8854\u63a5\uff0c\u5e2e\u6276\u653f\u7b56\u4fdd\u6301\u603b\u4f53\u7a33\u5b9a\uff0c\u5206\u7c7b\u8c03\u6574\u4f18\u5316\uff0c\u7559\u8db3\u653f\u7b56\u8fc7\u6e21\u671f\u3002"},{id:4,image:"../../static/images/img/shizi.png",tip:0,name:"\u72ee\u5b50",time:new Date,email:"934229118@qq.com",message:"\u4eca\u5e74\u4ee5\u6765\uff0c\u5728\u4f1a\u8bae\u3001\u56fd\u5185\u8003\u5bdf\u7b49\u91cd\u8981\u6d3b\u52a8\u4e2d\uff0c\u4e60\u8fd1\u5e73\u603b\u4e66\u8bb0\u8c08\u53ca\u4e61\u6751\u632f\u5174\uff0c\u90fd\u4f1a\u53cd\u590d\u5f3a\u8c03\u201c\u6709\u6548\u8854\u63a5\u201d\u8fd9\u56db\u4e2aX"},{id:5,image:"../../static/images/img/pig.png",tip:1,name:"\u732a",time:new Date,email:"934229118@qq.com",message:"\u6211\u662fXXX"},{id:6,image:"../../static/images/img/two.png",tip:2,name:"fiveaaaaaaaaaaaaaaaaaaaaaaaaaaaa",time:new Date,email:"934229118@qq.com",message:"\u6211\u662fXXX"},{id:7,image:"../../static/images/img/three.png",tip:2,name:"six",time:new Date,email:"934229118@qq.com",message:"\u6211\u662fXXX"}];return t},isFriend:function(){var t=[{userid:1,friend:1},{userid:1,friend:5},{userid:1,friend:3},{userid:1,friend:4}];return t},message:function(){var t=[{id:"a",imgurl:"three.png",message:"\u9700\u6ce8\u610f\u5728webview\u6e32\u67d3\u7684\u9875\u9762\u4e2d\uff0c\u533a\u57df\u6eda\u52a8\u7684\u6027\u80fd\u4e0d\u53ca\u9875\u9762\u6eda\u52a8\u3002",types:0,time:new Date-18e5,tip:0},{id:"a",imgurl:"three.png",message:"test.png",types:1,time:new Date-144e4,tip:1},{id:"b",imgurl:"two.png",message:"\u53ef\u6eda\u52a8\u89c6\u56fe\u533a\u57df\u3002\u7528\u4e8e\u533a\u57df\u6eda\u52a8",types:0,time:new Date-72e4,tip:2},{id:"b",imgurl:"two.png",message:"\u5728\u8bbe\u7f6e\u6eda\u52a8\u6761\u4f4d\u7f6e\u65f6\u4f7f\u7528\u52a8\u753b\u8fc7\u6e21",types:0,time:new Date-66e4,tip:3},{id:"a",imgurl:"three.png",message:"\u503c\u5e94\u4e3a\u67d0\u5b50\u5143\u7d20id\uff08id\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff09\u3002\u8bbe\u7f6e\u54ea\u4e2a\u65b9\u5411\u53ef\u6eda\u52a8\uff0c\u5219\u5728\u54ea\u4e2a\u65b9\u5411\u6eda\u52a8\u5230\u8be5\u5143\u7d20",types:0,time:new Date-6e5,tip:4},{id:"b",imgurl:"two.png",message:"pig.png",types:1,time:new Date-24e4,tip:5},{id:"b",imgurl:"two.png",message:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u4e0b\u62c9\u5237\u65b0\u9ed8\u8ba4\u6837\u5f0f\uff0c\u652f\u6301\u8bbe\u7f6e black,white,none,none \u8868\u793a\u4e0d\u4f7f\u7528\u9ed8\u8ba4\u6837\u5f0f",types:0,time:new Date-18e4,tip:6},{id:"b",imgurl:"two.png",message:"one.png",types:1,time:new Date-12e4,tip:7},{id:"a",imgurl:"three.png",message:"mine.png",types:1,time:new Date-6e4,tip:8},{id:"a",imgurl:"three.png",message:{record:"../../static/mp3.mp3",time:60},types:2,time:new Date-3e4,tip:9},{id:"b",imgurl:"two.png",message:{record:"../../static/mp3.mp3",time:10},types:2,time:new Date,tip:10},{id:"b",imgurl:"two.png",message:{name:"\u7fd4\u987a\u82b1\u56ed\u4e09\u533a(\u4e1c\u95e8)",address:"\u4e1c\u5824\u5357\u8def",latitude:22.678714,longitude:112.232027},types:3,time:new Date,tip:11},{id:"a",imgurl:"three.png",message:{name:"\u7fd4\u987a\u82b1\u56ed\u4e09\u533a(\u4e1c\u95e8)\u7fd4\u987a\u82b1\u56ed\u4e09\u533a(\u4e1c\u95e8)\u7fd4\u987a\u82b1\u56ed\u4e09\u533a(\u4e1c\u95e8)",address:"\u4e1c\u5824\u5357\u8def\u4e1c\u5824\u5357\u8def\u4e1c\u5824\u5357\u8def\u4e1c\u5824\u5357\u8def\u4e1c\u5824\u5357\u8def",latitude:22.678714,longitude:112.232027},types:3,time:new Date,tip:12}];return t}};s.default=i},bfe3:function(t,s){t.exports="/static/images/sign/look.png"},c03d:function(t,s,e){"use strict";function i(t,s){var e,i=s||500;return function(){var s=this,a=arguments;e&&clearTimeout(e),e=setTimeout((function(){e=null,t.apply(s,a)}),i)}}Object.defineProperty(s,"__esModule",{value:!0}),s.debounce=i},c218:function(t,s,e){"use strict";e.r(s);var i=e("f0ef"),a=e("7930");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},c5da:function(t,s){t.exports="/static/images/chatRoom/camera.png"},c69e:function(t,s){t.exports="/static/images/index/add.png"},cff8:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:t._$s(1,"sc","send"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","chet-send"),attrs:{_i:2}},[i("image",{directives:[{name:"show",rawName:"v-show",value:t._$s(3,"v-show",!t.isrecord),expression:"_$s(3,'v-show',!isrecord)"}],attrs:{src:t._$s(3,"a-src",e("561d")),_i:3},on:{click:t.record}}),i("image",{directives:[{name:"show",rawName:"v-show",value:t._$s(4,"v-show",t.isrecord),expression:"_$s(4,'v-show',isrecord)"}],attrs:{src:t._$s(4,"a-src",e("8255")),_i:4},on:{click:function(s){t.isrecord=!t.isrecord}}}),i("textarea",{directives:[{name:"show",rawName:"v-show",value:t._$s(5,"v-show",!t.isrecord),expression:"_$s(5,'v-show',!isrecord)"},{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:t._$s(5,"sc","chat-input btn"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.msg)},on:{input:[function(s){s.target.composing||(t.msg=s.target.value)},t.inputs]}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(6,"v-show",t.isrecord),expression:"_$s(6,'v-show',isrecord)"}],staticClass:t._$s(6,"sc","record btn"),attrs:{_i:6},on:{touchstart:t.touchstart,touchend:t.touchend,touchmove:t.touchmove}}),i("image",{attrs:{src:t._$s(7,"a-src",e("1937")),_i:7},on:{click:t.emoji}}),i("image",{directives:[{name:"show",rawName:"v-show",value:t._$s(8,"v-show",!t.isInput),expression:"_$s(8,'v-show',!isInput)"}],attrs:{src:t._$s(8,"a-src",e("91e6")),_i:8},on:{click:t.more}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.isInput),expression:"_$s(9,'v-show',isInput)"}],staticClass:t._$s(9,"sc","confirm"),attrs:{_i:9},on:{click:t.confirm}})]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(10,"v-show",t.isemoji),expression:"_$s(10,'v-show',isemoji)"}],staticClass:t._$s(10,"sc","emoji"),attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","delete"),attrs:{_i:11},on:{click:t.emojiBack}},[i("image",{attrs:{src:t._$s(12,"a-src",e("40b1")),_i:12}})]),i("emoji",{attrs:{_i:13},on:{emotion:t.emotion}})],1),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(14,"v-show",t.isMore),expression:"_$s(14,'v-show',isMore)"}],staticClass:t._$s(14,"sc","more"),attrs:{_i:14}},[i("view",{staticClass:t._$s(15,"sc","more-list"),attrs:{_i:15}},[i("image",{attrs:{src:t._$s(16,"a-src",e("a879")),_i:16},on:{click:function(s){return t.imgSend("album")}}}),i("view",{staticClass:t._$s(17,"sc","title"),attrs:{_i:17}})]),i("view",{staticClass:t._$s(18,"sc","more-list"),attrs:{_i:18}},[i("image",{attrs:{src:t._$s(19,"a-src",e("c5da")),_i:19},on:{click:function(s){return t.imgSend("camera")}}}),i("view",{staticClass:t._$s(20,"sc","title"),attrs:{_i:20}})]),i("view",{staticClass:t._$s(21,"sc","more-list"),attrs:{_i:21}},[i("image",{attrs:{src:t._$s(22,"a-src",e("88ac")),_i:22},on:{click:t.location}}),i("view",{staticClass:t._$s(23,"sc","title"),attrs:{_i:23}})]),i("view",{staticClass:t._$s(24,"sc","more-list"),attrs:{_i:24}},[i("image",{attrs:{src:t._$s(25,"a-src",e("684b")),_i:25}}),i("view",{staticClass:t._$s(26,"sc","title"),attrs:{_i:26}})]),i("view",{staticClass:t._$s(27,"sc","more-list"),attrs:{_i:27}},[i("image",{attrs:{src:t._$s(28,"a-src",e("1b3c")),_i:28}}),i("view",{staticClass:t._$s(29,"sc","title"),attrs:{_i:29}})]),i("view",{staticClass:t._$s(30,"sc","more-list"),attrs:{_i:30}},[i("image",{attrs:{src:t._$s(31,"a-src",e("0a51")),_i:31}}),i("view",{staticClass:t._$s(32,"sc","title"),attrs:{_i:32}})])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(33,"v-show",t.recording),expression:"_$s(33,'v-show',recording)"}],staticClass:t._$s(33,"sc","record-bg"),attrs:{_i:33}},[i("view",{staticClass:t._$s(34,"sc","record-time-wrapper"),attrs:{_i:34}},[i("view",{staticClass:t._$s(35,"sc","record-time"),style:t._$s(35,"s",{width:t.recordLength/.2+"%"}),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.recordLength)))])]),i("view",{staticClass:t._$s(36,"sc","record-del"),attrs:{_i:36}})])])},n=[]},d4ba:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:t._$s(0,"sc","wrapper"),attrs:{_i:0}},[i("top-bar",{staticClass:t._$s(1,"sc","top-bar"),attrs:{_i:1}},[i("image",{staticClass:t._$s(2,"sc","back"),attrs:{src:t._$s(2,"a-src",e("6179")),_i:2},on:{click:t.back},slot:"left"}),i("view",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3},slot:"center"},[t._v(t._$s(3,"t0-0",t._s(t.fname)))]),i("image",{staticClass:t._$s(4,"sc","more"),attrs:{src:t._$s(4,"a-src",e("13a1")),_i:4},on:{click:t.test},slot:"right"})]),i("scroll-view",{staticClass:t._$s(5,"sc","chat-wrapper"),attrs:{"scroll-into-view":t._$s(5,"a-scroll-into-view",t.scrollToView),_i:5},on:{scrolltoupper:t.scrolltoupper}},[i("view",{staticClass:t._$s(6,"sc","chat"),style:t._$s(6,"s",{paddingBottom:t.sendHeight+"px"}),attrs:{_i:6}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(7,"v-show",t.isLoading),expression:"_$s(7,'v-show',isLoading)"}],staticClass:t._$s(7,"sc","loading"),attrs:{animation:t._$s(7,"a-animation",t.animationData),_i:7}},[i("image",{attrs:{src:t._$s(8,"a-src",e("4e04")),_i:8}})]),t._l(t._$s(9,"f",{forItems:t.msgs}),(function(s,a,n,r){return i("view",{key:t._$s(9,"f",{forIndex:n,key:a}),staticClass:t._$s("9-"+r,"sc","chat-ls"),attrs:{id:t._$s("9-"+r,"a-id","msg"+s.id),_i:"9-"+r}},[t._$s("10-"+r,"i",""!=s.time)?i("view",{staticClass:t._$s("10-"+r,"sc","time"),attrs:{_i:"10-"+r}},[t._v(t._$s("10-"+r,"t0-0",t._s(t.changeDate(s.time))))]):t._e(),t._$s("11-"+r,"i",s.fromID!=t.uid)?i("view",{staticClass:t._$s("11-"+r,"sc","content left"),attrs:{_i:"11-"+r}},[i("image",{staticClass:t._$s("12-"+r,"sc","user-img"),attrs:{src:t._$s("12-"+r,"a-src",s.imgurl),_i:"12-"+r}}),i("view",{staticClass:t._$s("13-"+r,"sc","msg-wrapper"),attrs:{_i:"13-"+r}},[t._$s("14-"+r,"i",0==s.type)?i("view",{staticClass:t._$s("14-"+r,"sc","message"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(s.message)))]):t._e(),t._$s("15-"+r,"i",1==s.type)?i("image",{staticClass:t._$s("15-"+r,"sc","photo"),attrs:{src:t._$s("15-"+r,"a-src",s.message),_i:"15-"+r},on:{click:function(e){return t.previewImg(s.message)}}}):t._e(),t._$s("16-"+r,"i",2==s.type)?i("view",{staticClass:t._$s("16-"+r,"sc","message record"),style:t._$s("16-"+r,"s",{width:6*s.message.time+"px"}),attrs:{_i:"16-"+r},on:{click:function(e){return t.playRecord(s.message.record)}}},[i("image",{staticClass:t._$s("17-"+r,"sc","record-img"),attrs:{src:t._$s("17-"+r,"a-src",e("52fa")),_i:"17-"+r}}),t._v(t._$s("16-"+r,"t1-0",t._s(s.message.time)))]):t._e(),t._$s("18-"+r,"i",3==s.type)?i("view",{staticClass:t._$s("18-"+r,"sc","map"),attrs:{_i:"18-"+r},on:{click:function(e){return t.openLocation(s.message)}}},[i("view",{staticClass:t._$s("19-"+r,"sc","map-name"),attrs:{_i:"19-"+r}},[t._v(t._$s("19-"+r,"t0-0",t._s(s.message.name)))]),i("view",{staticClass:t._$s("20-"+r,"sc","map-address"),attrs:{_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(s.message.address)))]),i("view",{staticClass:t._$s("21-"+r,"sc","map-img"),attrs:{_i:"21-"+r}},[i("image",{attrs:{src:t._$s("22-"+r,"a-src",t.mapImg(s.message)),_i:"22-"+r}})])]):t._e()])]):t._e(),t._$s("23-"+r,"i",s.fromID==t.uid)?i("view",{staticClass:t._$s("23-"+r,"sc","content right"),attrs:{_i:"23-"+r}},[i("image",{staticClass:t._$s("24-"+r,"sc","user-img"),attrs:{src:t._$s("24-"+r,"a-src",s.imgurl),_i:"24-"+r}}),i("view",{staticClass:t._$s("25-"+r,"sc","msg-wrapper"),attrs:{_i:"25-"+r}},[t._$s("26-"+r,"i",0==s.type)?i("view",{staticClass:t._$s("26-"+r,"sc","message"),attrs:{_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(s.message)))]):t._e(),t._$s("27-"+r,"i",1==s.type)?i("image",{staticClass:t._$s("27-"+r,"sc","photo"),attrs:{src:t._$s("27-"+r,"a-src",s.message),_i:"27-"+r},on:{click:function(e){return t.previewImg(s.message)}}}):t._e(),t._$s("28-"+r,"i",2==s.type)?i("view",{staticClass:t._$s("28-"+r,"sc","message record"),style:t._$s("28-"+r,"s",{width:10*s.message.time+"px"}),attrs:{_i:"28-"+r},on:{click:function(e){return t.playRecord(s.message.record)}}},[i("image",{staticClass:t._$s("29-"+r,"sc","record-img"),attrs:{src:t._$s("29-"+r,"a-src",e("52fa")),_i:"29-"+r}}),t._v(t._$s("28-"+r,"t1-0",t._s(s.message.time)))]):t._e(),t._$s("30-"+r,"i",3==s.type)?i("view",{staticClass:t._$s("30-"+r,"sc","map"),attrs:{_i:"30-"+r},on:{click:function(e){return t.openLocation(s.message)}}},[i("view",{staticClass:t._$s("31-"+r,"sc","map-name"),attrs:{_i:"31-"+r}},[t._v(t._$s("31-"+r,"t0-0",t._s(s.message.name)))]),i("view",{staticClass:t._$s("32-"+r,"sc","map-address"),attrs:{_i:"32-"+r}},[t._v(t._$s("32-"+r,"t0-0",t._s(s.message.address)))]),i("view",{staticClass:t._$s("33-"+r,"sc","map-img"),attrs:{_i:"33-"+r}},[i("image",{attrs:{src:t._$s("34-"+r,"a-src",t.mapImg(s.message)),_i:"34-"+r}})])]):t._e()])]):t._e()])}))],2)]),i("send",{attrs:{_i:35},on:{send:t.sendMsg,heights:t.heights}})],1)},n=[]},d793:function(t,s,e){"use strict";e.r(s);var i=e("6d8c"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},d8f6:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=r(e("26e1")),a=r(e("f5c7")),n=(r(e("b8f2")),r(e("8e6d")));function r(t){return t&&t.__esModule?t:{default:t}}var o=uni.createInnerAudioContext(),c={components:{TopBar:i.default,send:a.default},onLoad:function(t){this.fid=t.id,this.fname=t.name,this.type=t.type,this.getStorages(),this.getMsg()},onBackPress:function(){o.stop()},mounted:function(){var t=this,s=uni.createSelectorQuery().in(this).select(".send");s.fields({size:!0},(function(s){t.sendHeight=s.height-129})).exec(),s.fields({size:!0},(function(s){t.sendHeight=s.height})).exec()},data:function(){return{uid:"",imgurl:"",token:"",myname:"",fid:"",fname:"",type:"",msgs:[],imgs:[],scrollToView:"",sendHeight:0,isPalying:!1,animationData:{},nowPage:0,pageSize:10,isLoading:!1,load:""}},methods:{getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.imgurl=this.serverUrl+t.imgurl,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(s){}},back:function(){uni.navigateBack({}),o.stop()},loading:function(){var t=uni.createAnimation({duration:1e3,timingFunction:"easy"});this.animation=t;var s=1;this.load=setInterval(function(){t.rotate(30*s).step(),this.animationData=t.export(),s++}.bind(this),100)},getMsg:function(){var s=this;uni.request({url:this.serverUrl+"/chat/msg",data:{uid:this.uid,fid:this.fid,nowPage:this.nowPage,pageSize:this.pageSize,token:this.token},method:"POST",success:function(e){if(200==e.data.status){var i=e.data.result;t("log",i," at pages/chatRoom/chatRoom.vue:197");var a=0;if(i.length>0){for(var n in i)i[n].imgurl=s.serverUrl+i[n].imgurl,new Date(i[n].time)>a+3e5?a=i[n].time:i[n].time="",1==i[n].types&&(i[n].message=s.serverUrl+i[n].message,s.imgs.push(i[n].message)),s.msgs.push(i[n]);t("log",s.msgs," at pages/chatRoom/chatRoom.vue:215")}10==i.length?s.nowPage++:s.nowPage=-1,s.isLoading&&(clearInterval(s.load),s.isLoading=!1)}else 300==e.data.status?uni.redirectTo({url:"../login/login?name="+s.myname}):500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},scrolltoupper:function(){-1!=this.nowPage&&(this.loading(),this.isLoading=!0,getMsg(page))},sendMsg:function(s){this.receiveMsg(s,this.uid,this.imgurl,0),t("log",this.msgs," at pages/chatRoom/chatRoom.vue:256")},receiveMsg:function(t,s,e,i){1==t.types&&this.imgs.push(t.message);for(var a=this.msgs.length,n={fromID:s,imgurl:e,message:t.message,type:t.types,time:new Date,id:a},r=1;r<a;r++)if(this.msgs[a-r].time)break;var o=this.msgs[a-r].time;n.time>o+3e5?o=n.time:n.time="",this.msgs.push(n)},heights:function(t){this.msgs.length>10&&(this.sendHeight=t,this.scrollToView="",this.$nextTick((function(){var t=this.msgs.length-1;this.scrollToView="msg"+this.msgs[t].id})))},getElementStyle:function(){var s=uni.createSelectorQuery().in(this);s.select(".text").boundingClientRect((function(s){t("log",s," at pages/chatRoom/chatRoom.vue:309")})).exec()},changeDate:function(t){return n.default.chatDate(t)},previewImg:function(s){for(var e=0,i=0;i<this.imgs.length;i++)if(this.imgs[i]==s){e=i;break}uni.previewImage({urls:this.imgs,current:e,longPressActions:{itemList:["\u53d1\u9001\u7ed9\u670b\u53cb","\u4fdd\u5b58\u56fe\u7247","\u6536\u85cf"],success:function(s){t("log","\u9009\u4e2d\u4e86\u7b2c"+(s.tapIndex+1)+"\u4e2a\u6309\u94ae,\u7b2c"+(s.index+1)+"\u5f20\u56fe\u7247"," at pages/chatRoom/chatRoom.vue:336")},fail:function(s){t("log",s.errMsg," at pages/chatRoom/chatRoom.vue:339")}}})},playRecord:function(s){var e=this;o.src=s,t("log",this.isPalying," at pages/chatRoom/chatRoom.vue:348"),this.isPalying?o.stop():o.play(),o.onPlay((function(){e.isPalying=!0})),o.onStop((function(){e.isPalying=!1})),o.onError((function(s){t("log",s.errMsg," at pages/chatRoom/chatRoom.vue:362"),t("log",s.errCode," at pages/chatRoom/chatRoom.vue:363")}))},mapImg:function(t){return"https://restapi.amap.com/v3/staticmap?location="+t.longitude+","+t.latitude+"&zoom=17&scale=2&size=464*284&markers=mid,0xFF0000,A:"+t.longitude+","+t.latitude+"&key=af0f6cdaa2398149472eb89bcc688c60"},openLocation:function(s){t("log","111"," at pages/chatRoom/chatRoom.vue:385"),uni.openLocation({latitude:s.latitude,longitude:s.longitude,name:s.name,address:s.address,success:function(){t("log","success"," at pages/chatRoom/chatRoom.vue:392")}})},test:function(){uni.navigateTo({url:"../test"})}}};s.default=c}).call(this,e("0de9")["default"])},de7e:function(t,s,e){"use strict";e.r(s);var i=e("1953"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},e5e6:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),i("TopBar",{staticClass:t._$s(2,"sc","top-bar"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","back"),attrs:{src:t._$s(3,"a-src",e("6179")),_i:3},on:{click:t.back},slot:"left"}),i("view",{staticClass:t._$s(4,"sc","title"),attrs:{_i:4},slot:"center"}),i("view",{staticClass:t._$s(5,"sc","confirm"),attrs:{_i:5},slot:"right"})]),i("view",{staticClass:t._$s(6,"sc","main"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.request}),(function(s,e,a,n){return i("view",{key:t._$s(7,"f",{forIndex:a,key:e}),staticClass:t._$s("7-"+n,"sc","request"),attrs:{_i:"7-"+n}},[i("view",{staticClass:t._$s("8-"+n,"sc","request-top"),attrs:{_i:"8-"+n}},[i("view",{staticClass:t._$s("9-"+n,"sc","reject btn"),attrs:{_i:"9-"+n},on:{click:function(e){return t.reject(s.id)}}}),i("view",{staticClass:t._$s("10-"+n,"sc","head-img"),attrs:{_i:"10-"+n}},[i("image",{attrs:{src:t._$s("11-"+n,"a-src",s.imgurl),_i:"11-"+n}})]),i("view",{staticClass:t._$s("12-"+n,"sc","aggree btn"),attrs:{_i:"12-"+n},on:{click:function(e){return t.aggree(s.id)}}})]),i("view",{staticClass:t._$s("13-"+n,"sc","request-name"),attrs:{_i:"13-"+n}},[i("view",{staticClass:t._$s("14-"+n,"sc","title"),attrs:{_i:"14-"+n}},[t._v(t._$s("14-"+n,"t0-0",t._s(s.name)))]),i("view",{staticClass:t._$s("15-"+n,"sc","time"),attrs:{_i:"15-"+n}},[t._v(t._$s("15-"+n,"t0-0",t._s(t.changeDate(s.lastTime))))])]),i("view",{staticClass:t._$s("16-"+n,"sc","notic"),attrs:{_i:"16-"+n}},[t._v(t._$s("16-"+n,"t0-0",t._s(s.msg)))])])})),0)],1)},n=[]},e82c:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("8e6d"));function a(t){return t&&t.__esModule?t:{default:t}}var n={data:function(){return{id:"fvujyhgukjygkuiy",img:[],path:""}},methods:{upload:function(){var s=this,e=i.default.fileName(new Date);uni.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){var a=i.tempFilePaths;for(var n in a){var r=uni.uploadFile({url:"http://localhost:3000/files/upload",filePath:a[n],name:"file",formData:{url:e,name:(new Date).getTime()+s.id+n},success:function(e){var i=s.serverUrl+e.data;s.img.push(i),t("log",e.data," at pages/test.vue:42")}});r.onProgressUpdate((function(s){t("log","\u4e0a\u4f20\u8fdb\u5ea6"+s.progress," at pages/test.vue:47"),t("log","\u5df2\u7ecf\u4e0a\u4f20\u7684\u6570\u636e\u957f\u5ea6"+s.totalBytesSent," at pages/test.vue:48"),t("log","\u9884\u671f\u9700\u8981\u4e0a\u4f20\u7684\u6570\u636e\u603b\u957f\u5ea6"+s.totalBytesExpectedToSend," at pages/test.vue:49")}))}}})},test:function(){uni.request({url:"https://restapi.amap.com/v3/staticmap",method:"GET",data:{key:"af0f6cdaa2398149472eb89bcc688c60",location:"116.481485,39.990464"},success:function(s){t("log",s," at pages/test.vue:77")}})}}};s.default=n}).call(this,e("0de9")["default"])},eb5c:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=n(e("26e1")),a=n(e("8e6d"));function n(t){return t&&t.__esModule?t:{default:t}}var r={onLoad:function(){this.getStorages(),this.friendRequest()},components:{TopBar:i.default},data:function(){return{uid:"",token:"",myname:"",request:[]}},methods:{back:function(){uni.navigateBack({})},changeDate:function(t){return a.default.changeDate(t)},getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(s){}},friendRequest:function(){var t=this;uni.request({url:this.serverUrl+"/index/getfriend",data:{uid:this.uid,token:this.token,state:1},method:"POST",success:function(s){if(200==s.data.status){var e=s.data.result;for(var i in e)e[i].imgurl=t.serverUrl+e[i].imgurl,t.getMsg(e,i);t.request=e}else 300==s.data.status?uni.redirectTo({url:"../login/login?name="+t.myname}):500==s.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},getMsg:function(t,s){var e=this;uni.request({url:this.serverUrl+"/index/getlastmsg",data:{uid:this.uid,fid:t[s].id,token:this.token},method:"POST",success:function(i){if(200==i.data.status){var a=i.data.result,n=t[s];n.msg=a.message,t.splice(s,1,n)}else 300==i.data.status?uni.redirectTo({url:"../login/login?name="+e.myname}):500==i.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},reject:function(t){var s=this;uni.request({url:this.serverUrl+"/friend/delete",data:{uid:this.uid,fid:t,token:this.token},method:"POST",success:function(e){if(200==e.data.status){for(var i in s.request)s.request[i].id==t&&s.request.splice(i,1);uni.showToast({title:"\u5220\u9664\u597d\u53cb\u6210\u529f",icon:"none",duration:2e3})}else 300==e.data.status?uni.redirectTo({url:"../login/login?name="+s.myname}):500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})},aggree:function(t){var s=this;uni.request({url:this.serverUrl+"/friend/update",data:{uid:this.uid,fid:t,token:this.token},method:"POST",success:function(e){if(200==e.data.status){for(var i in s.request)s.request[i].id==t&&s.request.splice(i,1);uni.showToast({title:"\u6dfb\u52a0\u597d\u53cb\u6210\u529f",icon:"none",duration:2e3})}else 300==e.data.status?uni.redirectTo({url:"../login/login?name="+s.myname}):500==e.data.status&&uni.showToast({title:"\u670d\u52a1\u5668\u51fa\u9519\u4e86",icon:"none",duration:2e3})}})}}};s.default=r},efc5:function(t,s,e){"use strict";e.r(s);var i=e("acfd"),a=e("6072");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},f0b9:function(t,s,e){"use strict";e.r(s);var i=e("189e"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},f0c5:function(t,s,e){"use strict";function i(t,s,e,i,a,n,r,o,c,u){var l,d="function"===typeof t?t.options:t;if(c){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var m in c)f.call(c,m)&&!f.call(d.components,m)&&(d.components[m]=c[m])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),s&&(d.render=s,d.staticRenderFns=e,d._compiled=!0),i&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=l):a&&(l=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(d.functional){d._injectStyles=l;var h=d.render;d.render=function(t,s){return l.call(s),h(t,s)}}else{var _=d.beforeCreate;d.beforeCreate=_?[].concat(_,l):[l]}return{exports:t,options:d}}e.d(s,"a",(function(){return i}))},f0ef:function(t,s,e){"use strict";var i;e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return n})),e.d(s,"a",(function(){return i}));var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:t._$s(1,"sc","status_bar"),attrs:{_i:1}}),i("TopBar",{staticClass:t._$s(2,"sc","topBar"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","search-wrapper"),attrs:{_i:3},slot:"center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:t._$s(4,"sc","search"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.searchValue)},on:{input:[function(s){s.target.composing||(t.searchValue=s.target.value)},t.Value]}}),i("image",{staticClass:t._$s(5,"sc","search-img"),attrs:{src:t._$s(5,"a-src",e("928c")),_i:5}})]),i("view",{staticClass:t._$s(6,"sc","cancel"),attrs:{_i:6},on:{click:t.back},slot:"right"})]),i("view",{staticClass:t._$s(7,"sc","main"),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","user"),attrs:{_i:8}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",this.userarr.length>0),expression:"_$s(9,'v-show',this.userarr.length > 0)"}],staticClass:t._$s(9,"sc","title"),attrs:{_i:9}}),t._l(t._$s(10,"f",{forItems:this.userarr}),(function(s,e,a,n){return i("view",{key:t._$s(10,"f",{forIndex:a,key:e}),staticClass:t._$s("10-"+n,"sc","userList"),attrs:{_i:"10-"+n}},[i("navigator",{attrs:{url:t._$s("11-"+n,"a-url","../userHome/userHome?id="+s._id),_i:"11-"+n}},[i("image",{attrs:{src:t._$s("12-"+n,"a-src",s.imgurl),_i:"12-"+n}})]),i("view",{staticClass:t._$s("13-"+n,"sc","names"),attrs:{_i:"13-"+n}},[i("view",{staticClass:t._$s("14-"+n,"sc","name"),attrs:{_i:"14-"+n},domProps:{innerHTML:t._s(t._$s("14-"+n,"v-html",s.name))}}),i("view",{staticClass:t._$s("15-"+n,"sc","email"),attrs:{_i:"15-"+n},domProps:{innerHTML:t._s(t._$s("15-"+n,"v-html",s.mail))}})]),t._$s("16-"+n,"i",1==s.tip)?i("view",{staticClass:t._$s("16-"+n,"sc","button send"),attrs:{_i:"16-"+n}}):t._e(),t._$s("17-"+n,"i",0==s.tip)?i("view",{staticClass:t._$s("17-"+n,"sc","button add"),attrs:{_i:"17-"+n},on:{click:function(e){return t.addFriendBtn(s._id)}}}):t._e()])}))],2)]),i("view",{staticClass:t._$s(18,"sc","add-friend"),style:t._$s(18,"s",{bottom:-+t.addHeight+"px"}),attrs:{animation:t._$s(18,"a-animation",t.animationData),_i:18}},[i("view",{staticClass:t._$s(19,"sc","status_bar"),attrs:{_i:19}}),i("top-bar",{staticClass:t._$s(20,"sc","top-bar"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","cancel"),attrs:{_i:21},on:{click:t.addFriendPopUp},slot:"left"}),i("view",{staticClass:t._$s(22,"sc","title"),attrs:{_i:22},slot:"center"}),i("view",{staticClass:t._$s(23,"sc","confirm"),attrs:{_i:23},on:{click:t.addFriendConfirm},slot:"right"})]),i("view",{staticClass:t._$s(24,"sc","main"),attrs:{_i:24}},[i("view",{staticClass:t._$s(25,"sc","contnet-wrapper"),attrs:{_i:25}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{_i:26},domProps:{value:t._$s(26,"v-model",t.message)},on:{input:function(s){s.target.composing||(t.message=s.target.value)}}})])])],1)],1)},n=[]},f5c7:function(t,s,e){"use strict";e.r(s);var i=e("cff8"),a=e("1404");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);s["default"]=c.exports},f614:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={data:function(){return{}}};s.default=i},fc47:function(t,s,e){"use strict";e.r(s);var i=e("2de8"),a=e("f0b9");for(var n in a)"default"!==n&&function(t){e.d(s,t,(function(){return a[t]}))}(n);var r,o=e("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"16c7e30c",null,!1,i["a"],r);s["default"]=c.exports},fcc1:function(t,s,e){"use strict";e.r(s);var i=e("31de"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,(function(){return i[t]}))}(n);s["default"]=a.a},fd64:function(t,s){t.exports="/static/images/common/more.png"},ff5e:function(t,s){t.exports="/static/images/sign/right1.png"}},[["8591","app-config"]]]);