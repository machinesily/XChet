(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-buildGroup-buildGroup"],{"06c5":function(t,e,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=a(n("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t){if("string"===typeof t)return(0,i.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.default)(t,e):void 0}}},"5ca7":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"status_bar"}),n("top-bar",{staticClass:"top-bar"},[n("v-uni-view",{staticClass:"back",attrs:{slot:"left"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}},slot:"left"},[t._v("取消")]),n("v-uni-view",{staticClass:"title",attrs:{slot:"center"},slot:"center"},[t._v("创建群聊")]),n("v-uni-view",{staticClass:"confirm",attrs:{slot:"right"},slot:"right"})],1),n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"group-img"},[n("image-cropper",{attrs:{src:t.tempFilePath},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}}),n("v-uni-image",{attrs:{src:t.cropFilePath},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"group-name"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入群聊名称"},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}})],1),n("v-uni-view",{staticClass:"title"},[t._v("用户")])],1),n("v-uni-view",{staticClass:"friends"},[n("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},t._l(t.friends,(function(e){return n("v-uni-label",{key:e.value,staticClass:"friends-list"},[n("v-uni-view",[n("v-uni-checkbox",{attrs:{color:"rgba(255,228,49,1)",value:e.id,checked:e.checked}})],1),n("v-uni-image",{attrs:{src:e.imgurl}}),n("nobr",{staticClass:"name"},[t._v(t._s(e.name))])],1)})),1)],1),n("v-uni-view",{staticClass:"confirm-wrapper"},[n("v-uni-view",{staticClass:"confirm",class:[{select:t.select},{noselcet:!t.select}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("创建("+t._s(t.count)+")")])],1)],1)],1)},r=[]},"5d70":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.status_bar[data-v-846d936c]{height:0;width:100%;background-color:hsla(0,0%,95.7%,.96)}.top-bar[data-v-846d936c]{background-color:hsla(0,0%,95.7%,.96);border-bottom:1px solid rgba(39,40,50,.1)}.top-bar .back[data-v-846d936c]{float:left;padding:%?20?% 0;height:%?48?%}.top-bar .title[data-v-846d936c]{color:#272832;font-size:%?40?%;padding:%?16?% 0}.top-bar .confirm[data-v-846d936c]{width:%?64?%}.main[data-v-846d936c]{padding-top:%?88?%}.main .wrapper[data-v-846d936c]{position:fixed;width:100%;background-color:#fff;z-index:100}.main .group-img[data-v-846d936c]{padding-top:%?60?%;background-color:#fff;text-align:center}.main .group-img uni-image[data-v-846d936c]{width:%?196?%;height:%?196?%;border-radius:%?20?%;box-shadow:0 %?36?% %?40?% 0 rgba(39,40,50,.1)}.main .group-name[data-v-846d936c]{background-color:#f3f4f6;width:%?686?%;height:%?92?%;margin:%?62?% auto %?40?%;border-radius:%?40?%}.main .group-name uni-input[data-v-846d936c]{padding:%?24?% %?20?%;text-align:center}.main .title[data-v-846d936c]{font-size:%?44?%;font-weight:600;margin-left:%?32?%}.friends[data-v-846d936c]{padding:%?550?% %?32?% %?200?%}.friends .friends-list[data-v-846d936c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.friends .friends-list uni-image[data-v-846d936c]{width:%?80?%;height:%?80?%;border-radius:%?20?%;margin:%?32?% %?32?%}.friends .friends-list .name[data-v-846d936c]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?480?%;color:#272832;height:%?50?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.confirm-wrapper[data-v-846d936c]{width:100%;height:%?168?%;position:fixed;bottom:0;left:0;text-align:center}.confirm-wrapper .confirm[data-v-846d936c]{margin:0 auto;width:80%;height:%?80?%;border-radius:%?20?%;font-size:16px;line-height:%?80?%}.confirm-wrapper .confirm[data-v-846d936c]:active{background-color:rgba(39,40,50,.2)}.select[data-v-846d936c]{background-color:#ffe431}.noselcet[data-v-846d936c]{background-color:rgba(39,40,50,.2)}',""]),t.exports=e},"6b75":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"6d91":function(t,e,n){var i=n("5d70");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("657904d2",i,!0,{sourceMap:!1,shadowMode:!1})},"763b":function(t,e,n){"use strict";n.r(e);var i=n("7f94"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"7f94":function(t,e,n){"use strict";var i=n("4ea4");n("caad"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("b85c")),r=i(n("fc47")),o={components:{ImageCropper:r.default},onLoad:function(){this.getStorages(),this.getFriends()},data:function(){return{uid:"",token:"",myname:"",count:0,color:"",groupName:"",tempFilePath:"",cropFilePath:"../../static/images/buildGroup/buildGroup.png",friends:[],imgurl:"/group/group.png"}},computed:{select:function(){return!!(this.count>1&&this.groupName&&this.imgurl)}},methods:{back:function(){uni.navigateBack({})},getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.token=t.token,this.myname=t.name):uni.redirectTo({url:"../login/login"})}catch(e){}},upload:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(e){t.tempFilePath=e.tempFilePaths.shift()}})},confirm:function(t){var e=this;this.tempFilePath="",this.cropFilePath=t.detail.tempFilePath,uni.uploadFile({url:this.serverUrl+"/files/upload",filePath:this.cropFilePath,fileType:"image",name:"file",formData:{url:"group",name:this.uid+(new Date).getTime(),token:this.token},success:function(t){e.imgurl=t.data},fail:function(t){console.log("this is errormes "+t.message)}})},fail:function(t){console.log("this is errormes "+t.message)},cancel:function(){this.tempFilePath=""},getFriends:function(){var t=this,e="/index/getfriend",n={uid:this.uid,token:this.token,state:0};this.request(e,n).then((function(e){var n,i=(0,a.default)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.alias&&(r.name=r.alias),r.imgurl=t.serverUrl+r.imgurl,t.friends.push(r)}}catch(o){i.e(o)}finally{i.f()}}))},checkboxChange:function(t){var e,n=t.detail.value,i=(0,a.default)(this.friends);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.includes(r.id)?this.$set(r,"checked",!0):this.$set(r,"checked",!1)}}catch(u){i.e(u)}finally{i.f()}this.count=0;var o,c=(0,a.default)(this.friends);try{for(c.s();!(o=c.n()).done;){var s=o.value;s.checked&&this.count++}}catch(u){c.e(u)}finally{c.f()}},submit:function(){if(this.count>1&&this.groupName&&this.imgurl){var t=[];t.push(this.uid);var e,n=(0,a.default)(this.friends);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.checked&&t.push(i.id)}}catch(c){n.e(c)}finally{n.f()}var r="/group/create",o={uid:this.uid,token:this.token,name:this.groupName,imgurl:this.imgurl,user:t};this.request(r,o).then((function(t){uni.$emit("refresh",{msg:"页面更新"}),uni.redirectTo({url:"../index/index"})}))}}}};e.default=o},"820f":function(t,e,n){"use strict";n.r(e);var i=n("5ca7"),a=n("763b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("97c6");var o,c=n("f0c5"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"846d936c",null,!1,i["a"],o);e["default"]=s.exports},"97c6":function(t,e,n){"use strict";var i=n("6d91"),a=n.n(i);a.a},b85c:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=a(n("06c5"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=(0,i.default)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,o=t},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}}}]);